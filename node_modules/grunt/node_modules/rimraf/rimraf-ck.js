function rimraf(e,t){if(!t)throw new Error("No callback passed to rimraf()");var n=0;rimraf_(e,function r(i){if(i){if(i.code==="EBUSY"&&n<exports.BUSYTRIES_MAX){n++;var s=n*100;return setTimeout(function(){rimraf_(e,r)},s)}if(i.code==="EMFILE"&&timeout<exports.EMFILE_MAX)return setTimeout(function(){rimraf_(e,r)},timeout++);i.code==="ENOENT"&&(i=null)}timeout=0;t(i)})}function rimraf_(e,t){fs[lstat](e,function(n,r){return n?n.code==="ENOENT"?t():t(n):rm_(e,r,!1,t)})}function writable(e){var t=e.mode||511,n=myUid(),r=myGid();return t&2||r===e.gid&&t&16||n===e.uid&&t&128}function rm_(e,t,n,r){if(!n&&!writable(t))return fs.chmod(e,t.mode|146,function(n){if(n)return r(n);rm_(e,t,!0,r)});if(!t.isDirectory())return fs.unlink(e,r);fs.readdir(e,function(t,n){if(t)return r(t);asyncForEach(n.map(function(t){return path.join(e,t)}),function(e,t){rimraf(e,t)},function(t){if(t)return r(t);fs.rmdir(e,r)})})}function asyncForEach(e,t,n){e.length||n();var r=e.length,i=null;e.forEach(function(e,s,o){t(e,function(e){if(i)return;if(e)return n(i=e);if(--r===0)return n()})})}function rimrafSync(e){try{var t=fs[lstatSync](e)}catch(n){if(n.code==="ENOENT")return;throw n}writable(t)||fs.chmodSync(e,t.mode|146);if(!t.isDirectory())return fs.unlinkSync(e);fs.readdirSync(e).forEach(function(t){rimrafSync(path.join(e,t))});fs.rmdirSync(e)}module.exports=rimraf;rimraf.sync=rimrafSync;var path=require("path"),fs;try{fs=require("graceful-fs")}catch(er){fs=require("fs")}var lstat="lstat";if(process.platform==="win32"){var v=process.version.replace(/^v/,"").split(/\.|-/).map(Number);v[0]===0&&(v[1]<7||v[1]==7&&v[2]<9)&&(lstat="stat")}fs[lstat]||(lstat="stat");var lstatSync=lstat+"Sync",timeout=0;exports.EMFILE_MAX=1e3;exports.BUSYTRIES_MAX=3;var myGid=function e(){var t=process.getgid&&process.getgid();e=function(){return t};return t},myUid=function t(){var e=process.getuid&&process.getuid();t=function(){return e};return e};