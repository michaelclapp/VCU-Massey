var common=require("../common"),formidable=common.formidable,http=require("http"),assert=require("assert"),testData={numbers:[1,2,3,4,5],nested:{key:"value"}},server=http.createServer(function(e,t){var n=new formidable.IncomingForm;n.parse(e,function(e,n,r){assert.deepEqual(n,testData);t.end();server.close()})}),port=common.port;server.listen(port,function(e){assert.equal(e,null);var t=http.request({port:port,method:"POST",headers:{"Content-Type":"application/json"}});t.write(JSON.stringify(testData));t.end()});