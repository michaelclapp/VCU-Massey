function StringStream(){this.writable=!0;this.str=""}var common=require("../common"),assert=common.assert,CombinedStream=common.CombinedStream,util=require("util"),Stream=require("stream").Stream,s=CombinedStream.create();util.inherits(StringStream,Stream);StringStream.prototype.write=function(e,t){this.str+=e.toString();this.emit("data",e)};StringStream.prototype.end=function(e,t){this.emit("end")};StringStream.prototype.toString=function(){return this.str};s.append("foo.");s.append("");s.append("bar");var ss=new StringStream;s.pipe(ss);s.resume();assert.equal(ss.toString(),"foo.bar");