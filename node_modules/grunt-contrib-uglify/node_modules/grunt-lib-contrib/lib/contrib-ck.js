/*
 * grunt-lib-contrib
 * http://gruntjs.com/
 *
 * Copyright (c) 2012 Tyler Kellen, contributors
 * Licensed under the MIT license.
 */exports.init=function(e){"use strict";function r(e){return e?require("zlib-browserify").gzipSync(e).length:0}var t={},n=require("path");t.getNamespaceDeclaration=function(e){var t=[],n="this";if(e!=="this"){var r=e.split(".");r.forEach(function(e,r){if(e!=="this"){n+="["+JSON.stringify(e)+"]";t.push(n+" = "+n+" || {};")}})}return{namespace:n,declaration:t.join("\n")}};t.optsToArgs=function(t){var n=[];Object.keys(t).forEach(function(r){var i=t[r];r=r.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()});i===!0&&n.push("--"+r);e.util._.isString(i)&&n.push("--"+r,i);e.util._.isNumber(i)&&n.push("--"+r,""+i);e.util._.isArray(i)&&i.forEach(function(e){n.push("--"+r,e)})});return n};t.stripPath=function(t,r){if(r&&r.length>=1){r=n.normalize(r);t=n.normalize(t);t=e.util._(t).strRight(r);t=e.util._(t).ltrim(n.sep)}return t};t.minMaxInfo=function(t,n,i){if(i==="min"||i==="gzip"){e.log.writeln("Original: "+String(n.length).green+" bytes.");e.log.writeln("Minified: "+String(t.length).green+" bytes.")}if(i==="gzip"){e.log.write("Gzipped:  ");e.log.writeln(String(r(t)).green+" bytes.")}};t.formatForType=function(e,t,n,r){n=n||!1;if(t==="amd"&&n===!1)e="return "+e;else if(t==="commonjs"&&n===!1)e="module.exports = "+e;else if(t==="amd"&&n!==!1||t==="commonjs"&&n!==!1||t==="js"&&n!==!1)e=n+"["+JSON.stringify(r)+"] = "+e+";";return e};return t};