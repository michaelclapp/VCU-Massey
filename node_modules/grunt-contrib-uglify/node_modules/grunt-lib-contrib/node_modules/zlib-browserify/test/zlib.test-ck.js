const test=require("tap").test,zlibA=require("zlib"),zlibB=require(".."),crypto=require("crypto");test("zlibA.deflate -> zlibB.inflate",function(e){const t=crypto.randomBytes(1024);zlibA.deflate(t,function(n,r){zlibB.inflate(r,function(n,r){e.same(r,t,"should match");e.end()})})});test("zlibB.deflate -> zlibA.inflate",function(e){const t=crypto.randomBytes(1024);zlibB.deflate(t,function(n,r){zlibA.inflate(r,function(n,r){e.same(r,t,"should match");e.end()})})});test("zlibB.deflate -> zlibA.inflate (string)",function(e){const t="ohaihihihihihihihihihihihihihihihi";zlibB.deflate(t,function(n,r){zlibA.inflate(r,function(n,r){e.same(r.toString(),t,"should match");e.end()})})});test("zlibA.gzip -> zlibB.gunzip",function(e){const t=crypto.randomBytes(1024);zlibA.gzip(t,function(n,r){zlibB.gunzip(r,function(n,r){e.same(r,t,"should match");e.end()})})});test("zlibB.gzip -> zlibA.gunzip",function(e){const t=crypto.randomBytes(1024);zlibB.gzip(t,function(n,r){zlibA.gunzip(r,function(n,r){e.same(r,t,"should match");e.end()})})});test("zlibB.gzip -> zlibA.gunzip",function(e){const t="lololololoollolololoololololololololololololololololololololol";zlibB.gzip(t,function(n,r){zlibA.gunzip(r,function(n,r){e.same(r.toString(),t,"should match");e.end()})})});