function parse(e){e=e.trim().toLowerCase();if(e==="even")return[2,0];if(e==="odd")return[2,1];var t=e.match(re_nthElement);if(!t)throw new SyntaxError("n-th rule couldn't be parsed ('"+e+"')");var n;if(t[1]){n=parseInt(t[1],10);n||(t[1].charAt(0)==="-"?n=-1:n=1)}else n=0;return[n,t[3]?parseInt((t[2]||"")+t[3],10):0]}function compile(e){var t=e[0],n=e[1]-1;if(n<0&&t<=0)return falseFunc;if(t===-1)return function(e){return e<=n};if(t===0)return function(e){return e===n};if(t===1)return n<0?trueFunc:function(e){return e>=n};var r=n%t;r<0&&(r+=t);if(t>1)return function(e){return e>=n&&e%t===r};t*=-1;return function(e){return e<=n&&e%t===r}}var BaseFuncs=require("./basefunctions.js"),trueFunc=BaseFuncs.trueFunc,falseFunc=BaseFuncs.falseFunc;module.exports=function(t){return compile(parse(t))};module.exports.parse=parse;module.exports.compile=compile;var re_nthElement=/^([+\-]?\d*n)?\s*(?:([+\-]?)\s*(\d+))?$/;