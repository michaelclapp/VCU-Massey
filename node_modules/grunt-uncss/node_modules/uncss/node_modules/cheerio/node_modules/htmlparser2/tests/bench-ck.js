//dependencies have to be installed manually
var ben=require("ben"),parsers=[];try{var node_xml=require("node-xml");function NodeXmlParser(){var e=new node_xml.SaxParser(function(e){});this.parse=function(t){e.parseString(t)}}parsers.push([NodeXmlParser,"node-xml"])}catch(e){}try{var libxml=require("libxmljs");function LibXmlJsParser(){var e=new libxml.SaxPushParser(function(e){});this.parse=function(t){e.push(t,!1)}}parsers.push([LibXmlJsParser,"libxmljs"])}catch(e){}try{var sax=require("sax");function SaxParser(){var e=sax.parser();this.parse=function(t){e.write(t)}}parsers.push([SaxParser,"sax"])}catch(e){}try{var expat=require("node-expat");function ExpatParser(){var e=new expat.Parser;this.parse=function(t){e.parse(t,!1)}}parsers.push([ExpatParser,"node-expat"])}catch(e){}try{var htmlparser=require("htmlparser");function HtmlParser(){var e=new htmlparser.DefaultHandler,t=new htmlparser.Parser(e);this.parse=function(e){t.parseComplete(e)}}parsers.push([HtmlParser,"htmlparser"])}catch(e){}try{var hubbub=require("hubbub");function Hubbub(){var e=new hubbub.DefaultHandler,t=new hubbub.Parser(e);this.parse=function(e){t.parseComplete(e)}}parsers.push([Hubbub,"hubbub"])}catch(e){}try{var htmlParser=require("html-parser");function HTMLParser(){var e={};this.parse=function(t){htmlParser.parse(t,e)}}parsers.push([HTMLParser,"html-parser"])}catch(e){}try{var htmlparser2=require("../lib/Parser.js");function HtmlParser2(){var e=new htmlparser2;this.parse=function(t){e.write(t)}}parsers.push([HtmlParser2,"htmlparser2"])}catch(e){}var results=parsers.map(function(e){var t=new e[0],n=e[1];process.stdout.write(n+":"+Array(14-n.length).join(" "));t.parse("<r>");var r=ben(1e6,function(){t.parse("<foo bar='baz'>quux</foo>")});console.log((r>.01?"":"0")+(r*1e3).toFixed(2),"ms/el");return[n,r]});console.log("\nWinner:",results.sort(function(e,t){return e[1]-t[1]})[0][0]);