function CollectingHandler(e){this._cbs=e||{};this.events=[]}module.exports=CollectingHandler;var EVENTS=require("./").EVENTS;Object.keys(EVENTS).forEach(function(e){if(EVENTS[e]===0){e="on"+e;CollectingHandler.prototype[e]=function(){this.events.push([e]);this._cbs[e]&&this._cbs[e]()}}else if(EVENTS[e]===1){e="on"+e;CollectingHandler.prototype[e]=function(t){this.events.push([e,t]);this._cbs[e]&&this._cbs[e](t)}}else{if(EVENTS[e]!==2)throw Error("wrong number of arguments");e="on"+e;CollectingHandler.prototype[e]=function(t,n){this.events.push([e,t,n]);this._cbs[e]&&this._cbs[e](t,n)}}});CollectingHandler.prototype.onreset=function(){this.events=[];this._cbs.onreset&&this._cbs.onreset()};CollectingHandler.prototype.restart=function(){this._cbs.onreset&&this._cbs.onreset();for(var e=0,t=this.events.length;e<t;e++)if(this._cbs[this.events[e][0]]){var n=this.events[e].length;n===1?this._cbs[this.events[e][0]]():n===2?this._cbs[this.events[e][0]](this.events[e][1]):this._cbs[this.events[e][0]](this.events[e][1],this.events[e][2])}};