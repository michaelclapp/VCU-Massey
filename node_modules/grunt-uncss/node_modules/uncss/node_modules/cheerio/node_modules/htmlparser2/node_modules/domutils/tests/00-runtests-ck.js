function compare(e,t){if(typeof e!=typeof t)throw Error("types didn't match");if(typeof e!="object"||e===null){if(e!==t)throw Error("result doesn't equal expected");return}for(var n in e){if(!(n in t))throw Error("result didn't contain property "+n);compare(e[n],t[n])}}function runTests(e){fs.readdirSync(__dirname+e.dir).map(function(t){return t[0]==="."?!1:t.substr(-5)===".json"?JSON.parse(fs.readFileSync(__dirname+e.dir+t)):require(__dirname+e.dir+t)}).forEach(function(t){if(!t)return;var n=!1;runCount++;console.log("Testing:",t.name);e.test(t,function(e,r){assert.ifError(e);compare(t.expected,r);if(n){runCount--;testCount++}else n=!0})});console.log("->",e.dir.slice(1,-1),"started")}var fs=require("fs"),assert=require("assert"),runCount=0,testCount=0;["./02-dom_utils.js"].map(require).forEach(runTests);(function e(){if(runCount!==0)return process.nextTick(e);console.log("Total tests:",testCount)})();