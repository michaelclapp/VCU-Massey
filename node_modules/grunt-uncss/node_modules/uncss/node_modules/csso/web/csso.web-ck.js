function srcToCSSP(e,t,n){function i(e){function s(e){return"0123456789".indexOf(e)>=0}function o(e){throw e}function h(e){if(!e)return[];a=[];var r,o;for(f=0;f<e.length;f++){r=e.charAt(f);o=e.charAt(f+1);if(r==="/"&&o==="*")v(e);else if(!n&&r==="/"&&o==="/")i>0?b(e):m(e);else if(r==='"'||r==="'")g(e,r);else if(r===" ")d(e);else if(r in t){p(t[r],r);(r==="\n"||r==="\r")&&c++;r===")"&&(n=!1);r==="{"&&i++;r==="}"&&i--}else s(r)?y(e):b(e)}w();return a}function p(e,t){a.push({tn:l++,ln:c,type:e,value:t})}function d(e){var t=f;for(;f<e.length;f++)if(e.charAt(f)!==" ")break;p(r.Space,e.substring(t,f));f--}function v(e){var t=f;for(f+=2;f<e.length;f++)if(e.charAt(f)==="*"&&e.charAt(f+1)==="/"){f++;break}p(r.CommentML,e.substring(t,f+1))}function m(e){var t=f;for(f+=2;f<e.length;f++)if(e.charAt(f)==="\n"||e.charAt(f)==="\r"){f++;break}p(r.CommentSL,e.substring(t,f));f--}function g(e,t){var n=f;for(f+=1;f<e.length;f++)if(e.charAt(f)==="\\")f++;else if(e.charAt(f)===t)break;p(t==='"'?r.StringDQ:r.StringSQ,e.substring(n,f+1))}function y(e){var t=f;for(;f<e.length;f++)if(!s(e.charAt(f)))break;p(r.DecimalNumber,e.substring(t,f));f--}function b(e){var i=f;while(e.charAt(f)==="/")f++;for(;f<e.length;f++)if(e.charAt(f)==="\\")f++;else if(e.charAt(f)in t)break;var s=e.substring(i,f);n=n||s==="url";p(r.Identifier,s);f--}function w(){var e=[],t=[],n=[],i;for(var s=0;s<a.length;s++){i=a[s];switch(i.type){case r.LeftParenthesis:e.push(s);break;case r.RightParenthesis:if(e.length){i.left=e.pop();a[i.left].right=s}break;case r.LeftSquareBracket:t.push(s);break;case r.RightSquareBracket:if(t.length){i.left=t.pop();a[i.left].right=s}break;case r.LeftCurlyBracket:n.push(s);break;case r.RightCurlyBracket:if(n.length){i.left=n.pop();a[i.left].right=s}}}}var t,n=!1,i=0;t={" ":r.Space,"\n":r.Newline,"\r":r.Newline,"	":r.Tab,"!":r.ExclamationMark,'"':r.QuotationMark,"#":r.NumberSign,$:r.DollarSign,"%":r.PercentSign,"&":r.Ampersand,"'":r.Apostrophe,"(":r.LeftParenthesis,")":r.RightParenthesis,"*":r.Asterisk,"+":r.PlusSign,",":r.Comma,"-":r.HyphenMinus,".":r.FullStop,"/":r.Solidus,":":r.Colon,";":r.Semicolon,"<":r.LessThanSign,"=":r.EqualsSign,">":r.GreaterThanSign,"?":r.QuestionMark,"@":r.CommercialAt,"[":r.LeftSquareBracket,"]":r.RightSquareBracket,"^":r.CircumflexAccent,_:r.LowLine,"{":r.LeftCurlyBracket,"|":r.VerticalLine,"}":r.RightCurlyBracket,"~":r.Tilde};var u="",a=[],f,l=0,c=1;return h(e)}function s(e,t,n){function h(e){e&&e.ln>o&&(o=e.ln)}function p(){console.error("Please check the validity of the CSS block starting from the line #"+u);process&&process.exit(1);throw new Error}function d(e,t,n){i=e;a=n;s=0;$n();return t?c[t]():c.stylesheet()}function v(e){return G(e)||bn(e)||Xt(e)||pt(e)||Rt(e)||Mn(e)||Et(e)||xt(e)||kt(e)||kn(e)}function m(){if(G(s))return Y();if(bn(s))return wn();if(Xt(s))return Vt();if(pt(s))return dt();if(Rt(s))return Ut();if(Mn(s))return _n();if(Et(s))return St();if(xt(s))return Tt();if(kt(s))return Lt();if(kn(s))return Ln()}function g(e){var t;return i[e++].type!==r.CommercialAt?h(i[e-1]):(t=kt(e))?t+1:h(i[e])}function y(){var e=s;s++;return a?[{ln:i[e].ln},f.AtkeywordType,Lt()]:[f.AtkeywordType,Lt()]}function b(e){return i[e].type!==r.LeftSquareBracket?h(i[e]):i[e].right?i[e].right-e+1:h(i[e])}function w(e){var t=e;e++;var n=fn(e);n&&(e+=n);if(!(n=kt(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;if(!(n=N(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;if(!(n=kt(e))&&!(n=bn(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;return i[e].type===r.RightSquareBracket?e-t:h(i[e])}function E(){var e=s;s++;var t=(a?[{ln:i[e].ln},f.AttribType]:[f.AttribType]).concat(ln()).concat([Lt()]).concat(ln()).concat([C()]).concat(ln()).concat([bn(s)?wn():Lt()]).concat(ln());s++;return t}function S(e){var t=e;e++;var n=fn(e);n&&(e+=n);if(n=kt(e))e+=n;if(n=fn(e))e+=n;return i[e].type===r.RightSquareBracket?e-t:h(i[e])}function x(){var e=s;s++;var t=(a?[{ln:i[e].ln},f.AttribType]:[f.AttribType]).concat(ln()).concat([Lt()]).concat(ln());s++;return t}function T(){if(w(s))return E();if(S(s))return x()}function N(e){if(i[e].type===r.EqualsSign)return 1;if(i[e].type!==r.VerticalLine||!!i[e+1]&&i[e+1].type===r.EqualsSign){if(!i[e+1]||i[e+1].type!==r.EqualsSign)return h(i[e]);switch(i[e].type){case r.Tilde:case r.CircumflexAccent:case r.DollarSign:case r.Asterisk:case r.VerticalLine:return 2}return h(i[e])}return 1}function C(){var e=s,t=i[s++].value;i[s]&&i[s].type===r.EqualsSign&&(t+=i[s++].value);return a?[{ln:i[e].ln},f.AttrselectorType,t]:[f.AttrselectorType,t]}function k(e){var t=e,n;if(i[t].atrule_l!==undefined)return i[t].atrule_l;if(n=M(e))i[e].atrule_type=1;else if(n=A(e))i[e].atrule_type=2;else{if(!(n=j(e)))return h(i[t]);i[e].atrule_type=3}i[t].atrule_l=n;return n}function L(){switch(i[s].atrule_type){case 1:return _();case 2:return O();case 3:return F()}}function A(e){var t=e,n;if(!(n=g(e)))return h(i[e]);e+=n;if(n=Nn(e))e+=n;if(!(n=I(e)))return h(i[e]);e+=n;return e-t}function O(){return(a?[{ln:i[s].ln},f.AtrulebType,y()]:[f.AtrulebType,y()]).concat(Cn()).concat([q()])}function M(e){var t=e,n;if(!(n=g(e)))return h(i[e]);e+=n;if(n=D(e))e+=n;if(e<i.length&&i[e].type===r.LeftCurlyBracket){e++;if(n=H(e))e+=n;if(e<i.length&&i[e].type===r.RightCurlyBracket){e++;return e-t}return h(i[e])}return h(i[e])}function _(){var e=a?[{ln:i[s].ln},f.AtrulerType,y(),P()]:[f.AtrulerType,y(),P()];s++;e.push(B());s++;return e}function D(e){return Nn(e)}function P(){return(a?[{ln:i[s].ln},f.AtrulerqType]:[f.AtrulerqType]).concat(Cn())}function H(e){var t=e,n;if(n=fn(e))e+=n;while((n=sn(e))||(n=k(e))||(n=fn(e)))e+=n;i[e].atrulers_end=1;if(n=fn(e))e+=n;return e-t}function B(){var e=(a?[{ln:i[s].ln},f.AtrulersType]:[f.AtrulersType]).concat(ln()),t;while(!i[s].atrulers_end)fn(s)?e=e.concat(ln()):sn(s)?e.push(on()):e.push(L());return e.concat(ln())}function j(e){var t=e,n;if(!(n=g(e)))return h(i[e]);e+=n;if(n=Nn(e))e+=n;if(e>=i.length)return e-t;if(i[e].type!==r.Semicolon)return h(i[e]);e++;return e-t}function F(){var e=(a?[{ln:i[s].ln},f.AtrulesType,y()]:[f.AtrulesType,y()]).concat(Cn());s++;return e}function I(e){return e<i.length&&i[e].type===r.LeftCurlyBracket?i[e].right-e+1:h(i[e])}function q(){var e=a?[{ln:i[s].ln},f.BlockType]:[f.BlockType],t=i[s].right;s++;while(s<t)R(s)?e=e.concat(U()):p();s=t+1;return e}function R(e){var t;if(t=z(e))i[e].bd_type=1;else if(t=X(e))i[e].bd_type=2;else if(t=$(e))i[e].bd_type=3;else{if(!(t=K(e)))return h(i[e]);i[e].bd_type=4}return t}function U(){switch(i[s].bd_type){case 1:return W();case 2:return V();case 3:return J();case 4:return Q()}}function z(e){var t=e,n;if(n=fn(e))e+=n;if(n=vt(e)){i[e].bd_filter=1;e+=n}else{if(!(n=ut(e)))return h(i[e]);i[e].bd_decl=1;e+=n}if(!(e<i.length&&(n=ft(e))))return h(i[e]);e+=n;if(n=fn(e))e+=n;return e-t}function W(){return ln().concat([i[s].bd_filter?mt():at()]).concat([lt()]).concat(ln())}function X(e){var t=e,n;if(n=fn(e))e+=n;if(n=vt(e)){i[e].bd_filter=1;e+=n}else{if(!(n=ut(e)))return h(i[e]);i[e].bd_decl=1;e+=n}if(n=fn(e))e+=n;return e-t}function V(){return ln().concat([i[s].bd_filter?mt():at()]).concat(ln())}function $(e){var t=e,n;if(n=fn(e))e+=n;if(!(n=ft(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;return e-t}function J(){return ln().concat([lt()]).concat(ln())}function K(e){return fn(e)}function Q(){return ln()}function G(e){return e>=i.length||i[e].type!==r.LeftParenthesis&&i[e].type!==r.LeftSquareBracket?h(i[e]):i[e].right-e+1}function Y(){var e=s,t=s,n=i[s].right;s++;var r=Cn();s++;return a?[{ln:i[e].ln},f.BracesType,i[t].value,i[n].value].concat(r):[f.BracesType,i[t].value,i[n].value].concat(r)}function Z(e){}function et(e){}function tt(e){var t;if(i[e].clazz_l)return i[e].clazz_l;if(i[e].type===r.FullStop)if(t=kt(e+1)){i[e].clazz_l=t+1;return t+1}return h(i[e])}function nt(){var e=s;s++;return a?[{ln:i[e].ln},f.ClazzType,Lt()]:[f.ClazzType,Lt()]}function rt(e){return i[e].type===r.PlusSign||i[e].type===r.GreaterThanSign||i[e].type===r.Tilde?1:h(i[e])}function it(){return a?[{ln:i[s].ln},f.CombinatorType,i[s++].value]:[f.CombinatorType,i[s++].value]}function st(e){return i[e].type===r.CommentML?1:h(i[e])}function ot(){var e=s,t=i[s].value.substring(2),n=t.length;t.charAt(n-2)==="*"&&t.charAt(n-1)==="/"&&(t=t.substring(0,n-2));s++;return a?[{ln:i[e].ln},f.CommentType,t]:[f.CommentType,t]}function ut(e){var t=e,n;if(!(n=Qt(e)))return h(i[e]);e+=n;if(e<i.length&&i[e].type===r.Colon){e++;if(!(n=Pn(e)))return h(i[e]);e+=n;return e-t}return h(i[e])}function at(){var e=a?[{ln:i[s].ln},f.DeclarationType,Gt()]:[f.DeclarationType,Gt()];s++;e.push(Bn());return e}function ft(e){return e<i.length&&i[e].type===r.Semicolon?1:h(i[e])}function lt(){var e=s;s++;return a?[{ln:i[e].ln},f.DecldelimType]:[f.DecldelimType]}function ct(e){return e<i.length&&i[e].type===r.Comma?1:e>=i.length?h(i[i.length-1]):h(i[e])}function ht(){var e=s;s++;return a?[{ln:i[e].ln},f.DelimType]:[f.DelimType]}function pt(e){var t=Rt(e),n;return!t||t&&e+t>=i.length?h(i[e]):(n=Un(e+t))?t+n:h(i[e])}function dt(){var e=s,t=Ut(),n=a?[{ln:i[s].ln},f.IdentType,zn()]:[f.IdentType,zn()];return a?[{ln:i[e].ln},f.DimensionType,t,n]:[f.DimensionType,t,n]}function vt(e){var t=e,n;if(!(n=gt(e)))return h(i[e]);e+=n;if(i[e].type!==r.Colon)return h(i[e]);e++;if(!(n=bt(e)))return h(i[e]);e+=n;return e-t}function mt(){var e=a?[{ln:i[s].ln},f.FilterType,yt()]:[f.FilterType,yt()];s++;e.push(wt());return e}function gt(e){var t=e,n,r;if(e<i.length){if(i[e].value==="filter")n=1;else{r=Vn(e,2);if(r==="-filter"||r==="_filter"||r==="*filter")n=2;else{r=Vn(e,4);if(r!=="-ms-filter")return h(i[e]);n=4}}i[t].filterp_l=n;e+=n;fn(e)&&(e+=n);return e-t}return h(i[e])}function yt(){var e=s,t=Vn(s,i[s].filterp_l),n=a?[{ln:i[e].ln},f.IdentType,t]:[f.IdentType,t];s+=i[s].filterp_l;return(a?[{ln:i[e].ln},f.PropertyType,n]:[f.PropertyType,n]).concat(ln())}function bt(e){var t=e,n;if(!(n=$t(e)))return h(i[e]);e+=n;while(n=$t(e))e+=n;i[t].last_progid=e;e<i.length&&(n=fn(e))&&(e+=n);e<i.length&&(n=At(e))&&(e+=n);return e-t}function wt(){var e=a?[{ln:i[s].ln},f.FiltervType]:[f.FiltervType],t=i[s].last_progid;while(s<t)e.push(Jt());e=e.concat(fn(s)?ln():[]);s<i.length&&At(s)&&e.push(Ot());return e}function Et(e){var t=e;return!i[e]||i[e++].value!=="expression"?h(i[e-1]):!i[e]||i[e].type!==r.LeftParenthesis?h(i[e]):i[e].right-t+1}function St(){var e=s;s++;var t=Xn(s+1,i[s].right-1);s=i[s].right+1;return a?[{ln:i[e].ln},f.FunctionExpressionType,t]:[f.FunctionExpressionType,t]}function xt(e){var t=e,n=kt(e);if(!n)return h(i[e]);e+=n;return e>=i.length||i[e].type!==r.LeftParenthesis?h(i[e-1]):i[e].right-t+1}function Tt(){var e=s,t=Lt();s++;var n=t[a?2:1]!=="not"?Nt():Ct();return a?[{ln:i[e].ln},f.FunktionType,t,n]:[f.FunktionType,t,n]}function Nt(){var e=s,t=[],n;while(i[s].type!==r.RightParenthesis)if(xn(s)){n=Tn();a&&typeof n[1]=="string"||typeof n[0]=="string"?t.push(n):t=t.concat(n)}else tt(s)?t.push(nt()):p();s++;return(a?[{ln:i[e].ln},f.FunctionBodyType]:[f.FunctionBodyType]).concat(t)}function Ct(){var e=s,t=[],n;while(i[s].type!==r.RightParenthesis)vn(s)?t.push(gn()):p();s++;return(a?[{ln:i[e].ln},f.FunctionBodyType]:[f.FunctionBodyType]).concat(t)}function kt(e){var t=e,n=!1;if(e<i.length&&(i[e].type===r.HyphenMinus||i[e].type===r.LowLine||i[e].type===r.Identifier||i[e].type===r.DollarSign||i[e].type===r.Asterisk)){e++;n=i[e-1].type===r.Identifier;for(;e<i.length;e++)if(i[e].type!==r.HyphenMinus&&i[e].type!==r.LowLine){if(i[e].type!==r.Identifier&&(i[e].type!==r.DecimalNumber||!n))break;n=!0}if(!n&&i[t].type!==r.Asterisk)return h(i[e]);i[t].ident_last=e-1;return e-t}return h(i[e])}function Lt(){var e=s,t=Xn(s,i[s].ident_last);s=i[s].ident_last+1;return a?[{ln:i[e].ln},f.IdentType,t]:[f.IdentType,t]}function At(e){var t=e,n;if(i[e++].type!==r.ExclamationMark)return h(i[e-1]);if(n=fn(e))e+=n;return i[e].value!=="important"?h(i[e]):e-t+1}function Ot(){var e=s;s++;var t=ln();s++;return(a?[{ln:i[e].ln},f.ImportantType]:[f.ImportantType]).concat(t)}function Mt(e){return i[e].type===r.VerticalLine?1:h(i[e])}function _t(){var e=s;s++;return a?[{ln:i[e].ln},f.NamespaceType]:[f.NamespaceType]}function Dt(e){return Pt(e)||Bt(e)}function Pt(e){var t=e;for(;e<i.length;e++)if(i[e].type!==r.DecimalNumber&&i[e].value!=="n")break;if(e!==t){i[t].nth_last=e-1;return e-t}return h(i[e])}function Ht(){var e=s;if(i[s].nth_last){var t=a?[{ln:i[e].ln},f.NthType,Xn(s,i[s].nth_last)]:[f.NthType,Xn(s,i[s].nth_last)];s=i[s].nth_last+1;return t}return a?[{ln:i[e].ln},f.NthType,i[s++].value]:[f.NthType,i[s++].value]}function Bt(e){return i[e].value==="even"||i[e].value==="odd"?1:h(i[e])}function jt(e){var t=e,n=0;if(i[e++].type!==r.Colon)return h(i[e-1]);n++;if(i[e++].value!=="nth"||i[e++].value!=="-")return h(i[e-1]);n+=2;if("child"===i[e].value)n+=1;else if("last-child"===i[e].value+i[e+1].value+i[e+2].value)n+=3;else if("of-type"===i[e].value+i[e+1].value+i[e+2].value)n+=3;else{if("last-of-type"!==i[e].value+i[e+1].value+i[e+2].value+i[e+3].value+i[e+4].value)return h(i[e]);n+=5}i[t+1].nthf_last=t+n-1;return n}function Ft(){s++;var e=Xn(s,i[s].nthf_last);s=i[s].nthf_last+1;return e}function It(e){var t=e,n;if(!(n=jt(e)))return h(i[e]);e+=n;if(i[e].type!==r.LeftParenthesis||!i[e].right)return h(i[e]);n++;var s=i[e++].right;while(e<s)if(n=fn(e))e+=n;else if(n=kn(e))e+=n;else{if(!(n=Dt(e)))return h(i[e]);e+=n}return s-t+1}function qt(){var e=s,t=a?[{ln:i[s].ln},f.IdentType,Ft()]:[f.IdentType,Ft()],n=a?[{ln:i[s].ln},f.NthselectorType,t]:[f.NthselectorType,t];s++;while(i[s].type!==r.RightParenthesis)fn(s)?n=n.concat(ln()):kn(s)?n.push(Ln()):Dt(s)&&n.push(Ht());s++;return n}function Rt(e){return e<i.length&&i[e].number_l?i[e].number_l:e<i.length&&i[e].type===r.DecimalNumber&&(!i[e+1]||i[e+1]&&i[e+1].type!==r.FullStop)?(i[e].number_l=1,i[e].number_l):e<i.length&&i[e].type===r.DecimalNumber&&i[e+1]&&i[e+1].type===r.FullStop&&(!i[e+2]||i[e+2].type!==r.DecimalNumber)?(i[e].number_l=2,i[e].number_l):e<i.length&&i[e].type===r.FullStop&&i[e+1].type===r.DecimalNumber?(i[e].number_l=2,i[e].number_l):e<i.length&&i[e].type===r.DecimalNumber&&i[e+1]&&i[e+1].type===r.FullStop&&i[e+2]&&i[e+2].type===r.DecimalNumber?(i[e].number_l=3,i[e].number_l):h(i[e])}function Ut(){var e="",t=s,n=i[s].number_l;for(var r=0;r<n;r++)e+=i[s+r].value;s+=n;return a?[{ln:i[t].ln},f.NumberType,e]:[f.NumberType,e]}function zt(e){return e<i.length&&(i[e].type===r.Solidus||i[e].type===r.Comma||i[e].type===r.Colon||i[e].type===r.EqualsSign)?1:h(i[e])}function Wt(){return a?[{ln:i[s].ln},f.OperatorType,i[s++].value]:[f.OperatorType,i[s++].value]}function Xt(e){var t=Rt(e);return!t||t&&e+t>=i.length?h(i[e]):i[e+t].type===r.PercentSign?t+1:h(i[e])}function Vt(){var e=s,t=Ut();s++;return a?[{ln:i[e].ln},f.PercentageType,t]:[f.PercentageType,t]}function $t(e){var t=e,n,s;if(n=fn(e))e+=n;if((s=Vn(e,6))!=="progid:DXImageTransform.Microsoft.")return h(i[e-1]);_start=e;e+=6;if(!(n=kt(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;if(i[e].type!==r.LeftParenthesis)return h(i[e]);i[t].progid_end=i[e].right;e=i[e].right+1;if(n=fn(e))e+=n;return e-t}function Jt(){var e=s,t=i[s].progid_end;return(a?[{ln:i[e].ln},f.ProgidType]:[f.ProgidType]).concat(ln()).concat([Kt(t)]).concat(ln())}function Kt(e){var t=s,n=Xn(s,e);s=e+1;return a?[{ln:i[t].ln},f.RawType,n]:[f.RawType,n]}function Qt(e){var t=e,n;if(!(n=kt(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;return e-t}function Gt(){var e=s;return(a?[{ln:i[e].ln},f.PropertyType,Lt()]:[f.PropertyType,Lt()]).concat(ln())}function Yt(e){return en(e)||nn(e)}function Zt(){if(en(s))return tn();if(nn(s))return rn()}function en(e){var t;return i[e++].type!==r.Colon?h(i[e-1]):i[e++].type!==r.Colon?h(i[e-1]):(t=kt(e))?t+2:h(i[e])}function tn(){var e=s;s+=2;return a?[{ln:i[e].ln},f.PseudoeType,Lt()]:[f.PseudoeType,Lt()]}function nn(e){var t;return i[e++].type!==r.Colon?h(i[e-1]):(t=xt(e))||(t=kt(e))?t+1:h(i[e])}function rn(){var e=s;s++;return a?[{ln:i[e].ln},f.PseudocType,xt(s)?Tt():Lt()]:[f.PseudocType,xt(s)?Tt():Lt()]}function sn(e){var t=e,n;if(i[t].ruleset_l!==undefined)return i[t].ruleset_l;while(n=cn(e))e+=n;if(!(n=I(e)))return h(i[e]);e+=n;i[t].ruleset_l=e-t;return e-t}function on(){var e=a?[{ln:i[s].ln},f.RulesetType]:[f.RulesetType];while(!I(s))e.push(hn());e.push(q());return e}function un(e){return i[e].ws?i[e].ws_last-e+1:h(i[e])}function an(){var e=s,t=Xn(s,i[s].ws_last);s=i[s].ws_last+1;return a?[{ln:i[e].ln},f.SType,t]:[f.SType,t]}function fn(e){var t,n=0;while(e<i.length){if(!(t=un(e))&&!(t=st(e)))break;e+=t;n+=t}return n?n:e>=i.length?h(i[i.length-1]):h(i[e])}function ln(){var e=[];while(s<i.length)if(un(s))e.push(an());else{if(!st(s))break;e.push(ot())}return e}function cn(e){var t=e,n;if(e<i.length){while(n=vn(e)||ct(e))e+=n;i[t].selector_end=e-1;return e-t}}function hn(){var e=a?[{ln:i[s].ln},f.SelectorType]:[f.SelectorType],t=i[s].selector_end;while(s<=t)e.push(ct(s)?ht():gn());return e}function pn(e){if(i[e].type!==r.NumberSign)return h(i[e]);var t=qn(e+1);return t?t+1:h(i[e])}function dn(){var e=s;s++;return a?[{ln:i[e].ln},f.ShashType,Rn()]:[f.ShashType,Rn()]}function vn(e){var t=e,n;while(e<i.length){if(!(n=mn(e)))break;e+=n}return e-t?e-t:e>=i.length?h(i[i.length-1]):h(i[e])}function mn(e){return It(e)||rt(e)||b(e)||Yt(e)||tt(e)||pn(e)||v(e)||fn(e)||Mt(e)}function gn(){var e=a?[{ln:i[s].ln},f.SimpleselectorType]:[f.SimpleselectorType],t;while(s<i.length&&mn(s)){t=yn();a&&typeof t[1]=="string"||typeof t[0]=="string"?e.push(t):e=e.concat(t)}return e}function yn(){if(It(s))return qt();if(rt(s))return it();if(b(s))return T();if(Yt(s))return Zt();if(tt(s))return nt();if(pn(s))return dn();if(v(s))return m();if(fn(s))return ln();if(Mt(s))return _t()}function bn(e){return e<i.length&&(i[e].type===r.StringSQ||i[e].type===r.StringDQ)?1:h(i[e])}function wn(){var e=s;return a?[{ln:i[e].ln},f.StringType,i[s++].value]:[f.StringType,i[s++].value]}function En(e){var t=e,n;while(e<i.length)if(n=fn(e))e+=n;else{u=i[e].ln;(n=k(e))?e+=n:(n=sn(e))?e+=n:(n=An(e))?e+=n:p()}return e-t}function Sn(e){var t,n=a?[{ln:i[s].ln},f.StylesheetType]:[f.StylesheetType];while(s<i.length)if(fn(s))n=n.concat(ln());else{u=i[s].ln;sn(s)?n.push(on()):k(s)?n.push(L()):An(s)?n.push(On()):p()}return n}function xn(e){return Fn(e)||v(e)||fn(e)||zt(e)}function Tn(){if(Fn(s))return In();if(v(s))return m();if(fn(s))return ln();if(zt(s))return Wt()}function Nn(e){var t=e,n;while(n=xn(e))e+=n;return e-t}function Cn(){var e=[],t;while(t=Tn())a&&typeof t[1]=="string"||typeof t[0]=="string"?e.push(t):e=e.concat(t);return e}function kn(e){return e<i.length&&(i[e].type===r.HyphenMinus||i[e].type===r.PlusSign)?1:h(i[e])}function Ln(){var e=s;return a?[{ln:i[e].ln},f.UnaryType,i[s++].value]:[f.UnaryType,i[s++].value]}function An(e){return e<i.length&&i[e].type===r.CommentSL?1:h(i[e])}function On(){var e=s;return a?[{ln:i[e].ln},f.UnknownType,i[s++].value]:[f.UnknownType,i[s++].value]}function Mn(e){var t=e,n;return e<i.length&&i[e++].value!=="url"?h(i[e-1]):!i[e]||i[e].type!==r.LeftParenthesis?h(i[e]):i[e].right-t+1}function _n(){var e=s,t={};s+=2;t[r.Space]=1;t[r.Tab]=1;t[r.Newline]=1;t[r.LeftParenthesis]=1;t[r.RightParenthesis]=1;if(Dn(s)){var n=(a?[{ln:i[e].ln},f.UriType]:[f.UriType]).concat(ln()).concat([wn()]).concat(ln());s++;return n}var n=(a?[{ln:i[e].ln},f.UriType]:[f.UriType]).concat(ln()),o=Wn(t,s),u=a?[{ln:i[s].ln},f.RawType,Xn(s,s+o)]:[f.RawType,Xn(s,s+o)];n.push(u);s+=o+1;n=n.concat(ln());s++;return n}function Dn(e){var t=e,n=fn(e);n&&(e+=n);if(i[e].type!==r.StringDQ&&i[e].type!==r.StringSQ)return h(i[e]);e++;if(n=fn(e))e+=n;return e-t}function Pn(e){var t=e,n;while(e<i.length){if(!(n=Hn(e)))break;e+=n}return e-t?e-t:h(i[e])}function Hn(e){return fn(e)||Fn(e)||v(e)||I(e)||g(e)||zt(e)||At(e)}function Bn(){var e=a?[{ln:i[s].ln},f.ValueType]:[f.ValueType],t;while(s<i.length&&Hn(s)){t=jn();a&&typeof t[1]=="string"||typeof t[0]=="string"?e.push(t):e=e.concat(t)}return e}function jn(){if(fn(s))return ln();if(Fn(s))return In();if(v(s))return m();if(I(s))return q();if(g(s))return y();if(zt(s))return Wt();if(At(s))return Ot()}function Fn(e){if(e>=i.length||i[e].type!==r.NumberSign)return h(i[e]);var t=Un(e+1);return t?t+1:h(i[e])}function In(){var e=s;s++;return a?[{ln:i[e].ln},f.VhashType,zn()]:[f.VhashType,zn()]}function qn(e){var t=e;if(i[e].type!==r.HyphenMinus&&i[e].type!==r.LowLine&&i[e].type!==r.Identifier&&i[e].type!==r.DecimalNumber)return h(i[e]);e++;for(;e<i.length;e++)if(i[e].type!==r.HyphenMinus&&i[e].type!==r.LowLine&&i[e].type!==r.Identifier&&i[e].type!==r.DecimalNumber)break;i[t].nm_name_last=e-1;return e-t}function Rn(){var e=Xn(s,i[s].nm_name_last);s=i[s].nm_name_last+1;return e}function Un(e){var t=e;if(i[e].type===r.Identifier)return 1;if(i[e].type!==r.DecimalNumber)return h(i[e]);e++;return!i[e]||i[e].type!==r.Identifier?1:2}function zn(){var e=i[s].value;i[s++].type===r.DecimalNumber&&s<i.length&&i[s].type===r.Identifier&&(e+=i[s++].value);return e}function Wn(e,t){var n=t;while(t<i.length)if(e[i[t++].type])break;return t-n-2}function Xn(e,t){var n="";for(var r=e;r<t+1;r++)n+=i[r].value;return n}function Vn(e,t){if(e+t-1>=i.length)return;var n="";for(var r=0;r<t;r++)n+=i[e+r].value;return n}function $n(){var e=-1,t=-1,n;for(var s=0;s<i.length;s++){n=i[s];switch(n.type){case r.Space:case r.Tab:case r.Newline:n.ws=!0;n.sc=!0;e===-1&&(e=s);t===-1&&(t=s);break;case r.CommentML:if(e!==-1){i[e].ws_last=s-1;e=-1}n.sc=!0;break;default:if(e!==-1){i[e].ws_last=s-1;e=-1}if(t!==-1){i[t].sc_last=s-1;t=-1}}}e!==-1&&(i[e].ws_last=s-1);t!==-1&&(i[t].sc_last=s-1)}var i,s,o=0,u=0,a=!1,f,l,c;f={IdentType:"ident",AtkeywordType:"atkeyword",StringType:"string",ShashType:"shash",VhashType:"vhash",NumberType:"number",PercentageType:"percentage",DimensionType:"dimension",CdoType:"cdo",CdcType:"cdc",DecldelimType:"decldelim",SType:"s",AttrselectorType:"attrselector",AttribType:"attrib",NthType:"nth",NthselectorType:"nthselector",NamespaceType:"namespace",ClazzType:"clazz",PseudoeType:"pseudoe",PseudocType:"pseudoc",DelimType:"delim",StylesheetType:"stylesheet",AtrulebType:"atruleb",AtrulesType:"atrules",AtrulerqType:"atrulerq",AtrulersType:"atrulers",AtrulerType:"atruler",BlockType:"block",RulesetType:"ruleset",CombinatorType:"combinator",SimpleselectorType:"simpleselector",SelectorType:"selector",DeclarationType:"declaration",PropertyType:"property",ImportantType:"important",UnaryType:"unary",OperatorType:"operator",BracesType:"braces",ValueType:"value",ProgidType:"progid",FiltervType:"filterv",FilterType:"filter",CommentType:"comment",UriType:"uri",RawType:"raw",FunctionBodyType:"functionBody",FunktionType:"funktion",FunctionExpressionType:"functionExpression",UnknownType:"unknown"};c={ident:function(){if(kt(s))return Lt()},atkeyword:function(){if(g(s))return y()},string:function(){if(bn(s))return wn()},shash:function(){if(pn(s))return dn()},vhash:function(){if(Fn(s))return In()},number:function(){if(Rt(s))return Ut()},percentage:function(){if(Xt(s))return Vt()},dimension:function(){if(pt(s))return dt()},decldelim:function(){if(ft(s))return lt()},s:function(){if(un(s))return an()},attrselector:function(){if(N(s))return C()},attrib:function(){if(b(s))return T()},nth:function(){if(Dt(s))return Ht()},nthselector:function(){if(It(s))return qt()},namespace:function(){if(Mt(s))return _t()},clazz:function(){if(tt(s))return nt()},pseudoe:function(){if(en(s))return tn()},pseudoc:function(){if(nn(s))return rn()},delim:function(){if(ct(s))return ht()},stylesheet:function(){if(En(s))return Sn()},atruleb:function(){if(A(s))return O()},atrules:function(){if(j(s))return F()},atrulerq:function(){if(D(s))return P()},atrulers:function(){if(H(s))return B()},atruler:function(){if(M(s))return _()},block:function(){if(I(s))return q()},ruleset:function(){if(sn(s))return on()},combinator:function(){if(rt(s))return it()},simpleselector:function(){if(vn(s))return gn()},selector:function(){if(cn(s))return hn()},declaration:function(){if(ut(s))return at()},property:function(){if(Qt(s))return Gt()},important:function(){if(At(s))return Ot()},unary:function(){if(kn(s))return Ln()},operator:function(){if(zt(s))return Wt()},braces:function(){if(G(s))return Y()},value:function(){if(Pn(s))return Bn()},progid:function(){if($t(s))return Jt()},filterv:function(){if(bt(s))return wt()},filter:function(){if(vt(s))return mt()},comment:function(){if(st(s))return ot()},uri:function(){if(Mn(s))return _n()},raw:function(){if(checkRaw(s))return getRaw()},funktion:function(){if(xt(s))return Tt()},functionExpression:function(){if(Et(s))return St()},unknown:function(){if(An(s))return On()}};return d(e,t,n)}var r={StringSQ:"StringSQ",StringDQ:"StringDQ",CommentML:"CommentML",CommentSL:"CommentSL",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",PlusSign:"PlusSign",Comma:"Comma",HyphenMinus:"HyphenMinus",FullStop:"FullStop",Solidus:"Solidus",Colon:"Colon",Semicolon:"Semicolon",LessThanSign:"LessThanSign",EqualsSign:"EqualsSign",GreaterThanSign:"GreaterThanSign",QuestionMark:"QuestionMark",CommercialAt:"CommercialAt",LeftSquareBracket:"LeftSquareBracket",ReverseSolidus:"ReverseSolidus",RightSquareBracket:"RightSquareBracket",CircumflexAccent:"CircumflexAccent",LowLine:"LowLine",LeftCurlyBracket:"LeftCurlyBracket",VerticalLine:"VerticalLine",RightCurlyBracket:"RightCurlyBracket",Tilde:"Tilde",Identifier:"Identifier",DecimalNumber:"DecimalNumber"};return s(i(e),t,n)}function TRBL(e,t){this.name=TRBL.extractMain(e);this.sides={top:null,right:null,bottom:null,left:null};this.imp=t?4:0}function CSSOCompressor(){}function CSSOTranslator(){}var $util={};$util.cleanInfo=function(e){var t=[];e=e.slice(1);e.forEach(function(e){t.push(Array.isArray(e)?$util.cleanInfo(e):e)});return t};$util.treeToString=function(e,t){var n=$util.dummySpaces(t),t=t?t:0,r=(t?"\n"+n:"")+"[";e.forEach(function(e){r+=(Array.isArray(e)?$util.treeToString(e,t+1):e.f!==undefined?$util.ircToString(e):"'"+e.toString()+"'")+", "});return r.substr(0,r.length-2)+"]"};$util.ircToString=function(e){return"{"+e.f+","+e.l+"}"};$util.dummySpaces=function(e){return"                                                  ".substr(0,e*2)};var translator=new CSSOTranslator,cleanInfo=$util.cleanInfo;TRBL.props={margin:1,"margin-top":1,"margin-right":1,"margin-bottom":1,"margin-left":1,padding:1,"padding-top":1,"padding-right":1,"padding-bottom":1,"padding-left":1};TRBL.extractMain=function(e){var t=e.indexOf("-");return t===-1?e:e.substr(0,t)};TRBL.prototype.impSum=function(){var e=0,t=0;for(var n in this.sides)if(this.sides[n]){t++;this.sides[n].imp&&e++}return e===t?e:0};TRBL.prototype.add=function(e,t,n,r){var i=this.sides,s,o,u,a,f=[],l,r=r?1:0,c=!1;if((o=e.lastIndexOf("-"))!==-1){a=e.substr(o+1);if(a in i){if(!(s=i[a])||r&&!s.imp){i[a]={s:r?t.substring(0,t.length-10):t,t:[n[0]],imp:r};n[0][1]==="unary"&&i[a].t.push(n[1])}return!0}}else if(e===this.name){for(o=0;o<n.length;o++){u=n[o];l=f[f.length-1];switch(u[1]){case"unary":f.push({s:u[2],t:[u],imp:r});c=!0;break;case"number":case"ident":if(c){l.t.push(u);l.s+=u[2]}else f.push({s:u[2],t:[u],imp:r});c=!1;break;case"percentage":if(c){l.t.push(u);l.s+=u[2][2]+"%"}else f.push({s:u[2][2]+"%",t:[u],imp:r});c=!1;break;case"dimension":if(c){l.t.push(u);l.s+=u[2][2]+u[3][2]}else f.push({s:u[2][2]+u[3][2],t:[u],imp:r});c=!1;break;case"s":case"comment":case"important":break;default:return!1}}if(f.length>4)return!1;f[1]||(f[1]=f[0]);f[2]||(f[2]=f[0]);f[3]||(f[3]=f[1]);i.top||(i.top=f[0]);i.right||(i.right=f[1]);i.bottom||(i.bottom=f[2]);i.left||(i.left=f[3]);return!0}};TRBL.prototype.isOkToMinimize=function(){var e=this.sides,t;if(!(e.top&&e.right&&e.bottom&&e.left))return!1;t=e.top.imp+e.right.imp+e.bottom.imp+e.left.imp;return t===0||t===4||t===this.imp};TRBL.prototype.getValue=function(){var e=this.sides,t=[e.top,e.right,e.bottom,e.left],n=[{},"value"];if(e.left.s===e.right.s){t.length--;if(e.bottom.s===e.top.s){t.length--;e.right.s===e.top.s&&t.length--}}for(var r=0;r<t.length-1;r++){n=n.concat(t[r].t);n.push([{s:" "},"s"," "])}n=n.concat(t[r].t);this.impSum()&&n.push([{s:"!important"},"important"]);return n};TRBL.prototype.getProperty=function(){return[{s:this.name},"property",[{s:this.name},"ident",this.name]]};TRBL.prototype.getString=function(){var e=this.getProperty(),t=this.getValue().slice(2),n=e[0].s+":";for(var r=0;r<t.length;r++)n+=t[r][0].s;return n};CSSOCompressor.prototype.init=function(){this.props={};this.shorts={};this.shorts2={};this.ccrules={};this.crules={};this.prules={};this.frrules={};this.msrules={};this.csrules={};this.rbrules={};this.rjrules={};this.rrrules={};this.frules={};this.initRules(this.crules,this.defCCfg);this.initRules(this.ccrules,this.cleanCfg);this.initRules(this.frrules,this.frCfg);this.initRules(this.prules,this.preCfg);this.initRules(this.msrules,this.msCfg);this.initRules(this.csrules,this.csCfg);this.initRules(this.rbrules,this.defRBCfg);this.initRules(this.rjrules,this.defRJCfg);this.initRules(this.rrrules,this.defRRCfg);this.initRules(this.frules,this.defFCfg);this.shortGroupID=0;this.lastShortGroupID=0;this.lastShortSelector=0};CSSOCompressor.prototype.initRules=function(e,t){var n=this.order,r=this.profile,i,s,o,u=[];for(s=0;s<n.length;s++)n[s]in t&&u.push(n[s]);u.length||(u=n);for(s=0;s<u.length;s++){i=r[u[s]];for(o in i)e[o]?e[o].push(u[s]):e[o]=[u[s]]}};CSSOCompressor.prototype.cleanCfg={cleanComment:1};CSSOCompressor.prototype.defCCfg={cleanCharset:1,cleanImport:1,cleanWhitespace:1,cleanDecldelim:1,compressNumber:1,cleanUnary:1,compressColor:1,compressDimension:1,compressString:1,compressFontWeight:1,compressFont:1,compressBackground:1,cleanEmpty:1};CSSOCompressor.prototype.defRBCfg={restructureBlock:1};CSSOCompressor.prototype.defRJCfg={rejoinRuleset:1,cleanEmpty:1};CSSOCompressor.prototype.defRRCfg={restructureRuleset:1,cleanEmpty:1};CSSOCompressor.prototype.defFCfg={cleanEmpty:1,delimSelectors:1,delimBlocks:1};CSSOCompressor.prototype.preCfg={destroyDelims:1,preTranslate:1};CSSOCompressor.prototype.msCfg={markShorthands:1};CSSOCompressor.prototype.frCfg={freezeRulesets:1};CSSOCompressor.prototype.csCfg={cleanShorthands:1,cleanEmpty:1};CSSOCompressor.prototype.order=["cleanCharset","cleanImport","cleanComment","cleanWhitespace","compressNumber","cleanUnary","compressColor","compressDimension","compressString","compressFontWeight","compressFont","compressBackground","freezeRulesets","destroyDelims","preTranslate","markShorthands","cleanShorthands","restructureBlock","rejoinRuleset","restructureRuleset","cleanEmpty","delimSelectors","delimBlocks"];CSSOCompressor.prototype.profile={cleanCharset:{atrules:1},cleanImport:{atrules:1},cleanWhitespace:{s:1},compressNumber:{number:1},cleanUnary:{unary:1},compressColor:{vhash:1,funktion:1,ident:1},compressDimension:{dimension:1},compressString:{string:1},compressFontWeight:{declaration:1},compressFont:{declaration:1},compressBackground:{declaration:1},cleanComment:{comment:1},cleanDecldelim:{block:1},cleanEmpty:{ruleset:1,atruleb:1,atruler:1},destroyDelims:{decldelim:1,delim:1},preTranslate:{declaration:1,property:1,simpleselector:1,filter:1,value:1,number:1,percentage:1,dimension:1,ident:1},restructureBlock:{block:1},rejoinRuleset:{ruleset:1},restructureRuleset:{ruleset:1},delimSelectors:{selector:1},delimBlocks:{block:1},markShorthands:{block:1},cleanShorthands:{declaration:1},freezeRulesets:{ruleset:1}};CSSOCompressor.prototype.isContainer=function(e){if(Array.isArray(e))for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return!0};CSSOCompressor.prototype.process=function(e,t,n,r,i){var s=t[1];if(s&&e[s]){var o=e[s],u=t,a,f=this.order,l;for(var l=0;l<o.length;l++){a=this[o[l]](u,s,n,r,i);if(a===null)return null;a!==undefined&&(u=a)}}return u};CSSOCompressor.prototype.compress=function(e,t){e=e||["stylesheet"];this.init();this.info=!0;var n=typeof e[0]!="string"?e:this.injectInfo([e])[0],r,i=1e11,s,o,u,a,f=this.findProtectedComment(e);n=this.walk(this.ccrules,n,"/0");n=this.walk(this.crules,n,"/0");n=this.walk(this.prules,n,"/0");n=this.walk(this.frrules,n,"/0");s=translator.translate(cleanInfo(n)).length;if(!t){a=this.copyArray(n);n=this.walk(this.rjrules,n,"/0");this.disjoin(n);n=this.walk(this.msrules,n,"/0");n=this.walk(this.csrules,n,"/0");n=this.walk(this.rbrules,n,"/0");do{r=i;o=this.copyArray(n);n=this.walk(this.rjrules,n,"/0");n=this.walk(this.rrrules,n,"/0");i=translator.translate(cleanInfo(n)).length;u=this.copyArray(n)}while(r>i);s<r&&s<i?n=a:r<i&&(n=o)}n=this.walk(this.frules,n,"/0");f&&n.splice(2,0,f);return n};CSSOCompressor.prototype.findProtectedComment=function(e){var t;for(var n=2;n<e.length;n++){t=e[n];if(t[1]==="comment"&&t[2].length>0&&t[2].charAt(0)==="!")return t;if(t[1]!=="s")return}
};CSSOCompressor.prototype.injectInfo=function(e){var t;for(var n=e.length-1;n>-1;n--){t=e[n];if(t&&Array.isArray(t)){this.isContainer(t)&&(t=this.injectInfo(t));t.splice(0,0,{})}}return e};CSSOCompressor.prototype.disjoin=function(e){var t,n,r,i;for(var s=e.length-1;s>-1;s--){t=e[s];if(t&&Array.isArray(t)&&t[1]==="ruleset"){t[0].shortGroupID=this.shortGroupID++;n=t[2];if(n.length>3){i=n.slice(0,2);for(var o=n.length-1;o>1;o--){r=this.copyArray(t);r[2]=i.concat([n[o]]);r[2][0].s=n[o][0].s;e.splice(s+1,0,r)}e.splice(s,1)}}this.isContainer(t)&&this.disjoin(t)}};CSSOCompressor.prototype.walk=function(e,t,n){var r,i;for(var s=t.length-1;s>-1;s--){r=t[s];if(r&&Array.isArray(r)){r[0].parent=t;this.isContainer(r)&&(r=this.walk(e,r,n+"/"+s));r===null?t.splice(s,1):(i=this.process(e,r,t,s,n))?t[s]=i:i===null&&t.splice(s,1)}}return t.length?t:null};CSSOCompressor.prototype.freezeRulesets=function(e,t,n,r){var i=e[0],s=e[2];i.freeze=this.freezeNeeded(s);i.freezeID=this.selectorSignature(s);i.pseudoID=this.composePseudoID(s);i.pseudoSignature=this.pseudoSelectorSignature(s,this.allowedPClasses,!0);this.markSimplePseudo(s);return e};CSSOCompressor.prototype.markSimplePseudo=function(e){var t,n={};for(var r=2;r<e.length;r++){t=e[r];t[0].pseudo=this.containsPseudo(t);t[0].sg=n;n[t[0].s]=1}};CSSOCompressor.prototype.composePseudoID=function(e){var t=[],n;for(var r=2;r<e.length;r++){n=e[r];this.containsPseudo(n)&&t.push(n[0].s)}t.sort();return t.join(",")};CSSOCompressor.prototype.containsPseudo=function(e){for(var t=2;t<e.length;t++)switch(e[t][1]){case"pseudoc":case"pseudoe":case"nthselector":if(!(e[t][2][2]in this.notFPClasses))return!0}};CSSOCompressor.prototype.selectorSignature=function(e){var t=[];for(var n=2;n<e.length;n++)t.push(translator.translate(cleanInfo(e[n])));t.sort();return t.join(",")};CSSOCompressor.prototype.pseudoSelectorSignature=function(e,t,n){var r=[],i={},s,o=!1;t=t||{};for(var u=2;u<e.length;u++){s=e[u];for(var a=2;a<s.length;a++)switch(s[a][1]){case"pseudoc":case"pseudoe":case"nthselector":s[a][2][2]in t?o=!0:i[s[a][2][2]]=1}}for(var f in i)r.push(f);r.sort();return r.join(",")+(n?"":o)};CSSOCompressor.prototype.notFPClasses={link:1,visited:1,hover:1,active:1,"first-letter":1,"first-line":1};CSSOCompressor.prototype.notFPElements={"first-letter":1,"first-line":1};CSSOCompressor.prototype.freezeNeeded=function(e){var t;for(var n=2;n<e.length;n++){t=e[n];for(var r=2;r<t.length;r++)switch(t[r][1]){case"pseudoc":if(!(t[r][2][2]in this.notFPClasses))return!0;break;case"pseudoe":if(!(t[r][2][2]in this.notFPElements))return!0;break;case"nthselector":return!0}}return!1};CSSOCompressor.prototype.cleanCharset=function(e,t,n,r){if(e[2][2][2]==="charset")for(r-=1;r>1;r--)if(n[r][1]!=="s"&&n[r][1]!=="comment")return null};CSSOCompressor.prototype.cleanImport=function(e,t,n,r){var i;for(r-=1;r>1;r--){i=n[r][1];if(i!=="s"&&i!=="comment"){if(i!=="atrules")return null;i=n[r][2][2][2];if(i!=="import"&&i!=="charset")return null}}};CSSOCompressor.prototype.cleanComment=function(e,t,n,r){var i=n[1]==="braces"&&r===4||n[1]!=="braces"&&r===2?null:n[r-1][1],s=r===n.length-1?null:n[r+1][1];if(s===null||i===null)return null;if(this._cleanComment(s)||this._cleanComment(i))return null};CSSOCompressor.prototype._cleanComment=function(e){switch(e){case"s":case"operator":case"attrselector":case"block":case"decldelim":case"ruleset":case"declaration":case"atruleb":case"atrules":case"atruler":case"important":case"nth":case"combinator":return!0}};CSSOCompressor.prototype.nextToken=function(e,t,n,r){var i,s;for(;n<e.length;n++){i=e[n];if(Array.isArray(i)){s=i[1];if(s===t)return i;if(r&&s!=="s")return}}};CSSOCompressor.prototype.cleanWhitespace=function(e,t,n,r){var i=n[1]==="braces"&&r===4||n[1]!=="braces"&&r===2?null:n[r-1][1],s=r===n.length-1?null:n[r+1][1];if(s==="unknown")e[2]="\n";else{if((n[1]!=="atrulerq"||!!i)&&!this.issue16(n,r)){if(s===null||i===null)return null;if(this._cleanWhitespace(s,!1)||this._cleanWhitespace(i,!0))return null}e[2]=" "}return e};CSSOCompressor.prototype.issue16=function(e,t){return t!==2&&t!==e.length-1&&e[t-1][1]==="uri"};CSSOCompressor.prototype._cleanWhitespace=function(e,t){switch(e){case"s":case"operator":case"attrselector":case"block":case"decldelim":case"ruleset":case"declaration":case"atruleb":case"atrules":case"atruler":case"important":case"nth":case"combinator":return!0}if(t)switch(e){case"funktion":case"braces":case"uri":return!0}};CSSOCompressor.prototype.cleanDecldelim=function(e){for(var t=e.length-1;t>1;t--)e[t][1]==="decldelim"&&e[t+1][1]!=="declaration"&&e.splice(t,1);e[2][1]==="decldelim"&&e.splice(2,1);return e};CSSOCompressor.prototype.compressNumber=function(e,t,n,r){var i=e[2];/^0*/.test(i)&&(i=i.replace(/^0+/,""));/\.0*$/.test(i)&&(i=i.replace(/\.0*$/,""));/\..*[1-9]+0+$/.test(i)&&(i=i.replace(/0+$/,""));if(i==="."||i==="")i="0";e[2]=i;e[0].s=i;return e};CSSOCompressor.prototype.findDeclaration=function(e){var t=e;while((t=t[0].parent)&&t[1]!=="declaration");return t};CSSOCompressor.prototype.cleanUnary=function(e,t,n,r){var i=n[r+1];return i&&i[1]==="number"&&i[2]==="0"?null:e};CSSOCompressor.prototype.compressColor=function(e,t,n,r){switch(t){case"vhash":return this.compressHashColor(e);case"funktion":return this.compressFunctionColor(e);case"ident":return this.compressIdentColor(e,t,n,r)}};CSSOCompressor.prototype.compressIdentColor=function(e,t,n){var r={yellow:"ff0",fuchsia:"f0f",white:"fff",black:"000",blue:"00f",aqua:"0ff"},i={value:1,functionBody:1},s=e[2].toLowerCase();if(n[1]in i&&s in r)return[{},"vhash",r[s]]};CSSOCompressor.prototype.compressHashColor=function(e){return this._compressHashColor(e[2],e[0])};CSSOCompressor.prototype._compressHashColor=function(e,t){var n={f00:"red",c0c0c0:"silver",808080:"gray",8e5:"maroon",800080:"purple","008000":"green",808e3:"olive","000080":"navy","008080":"teal"},r=e;e=e.toLowerCase();e.length===6&&e.charAt(0)===e.charAt(1)&&e.charAt(2)===e.charAt(3)&&e.charAt(4)===e.charAt(5)&&(e=e.charAt(0)+e.charAt(2)+e.charAt(4));return n[e]?[t,"string",n[e]]:[t,"vhash",e.length<r.length?e:r]};CSSOCompressor.prototype.compressFunctionColor=function(e){var t,n=[],r,i="",s;if(e[2][2]==="rgb"){s=e[3];for(t=2;t<s.length;t++){r=s[t][1];if(r==="number")n.push(s[t]);else if(r!=="operator"){n=[];break}}if(n.length===3){i+=(r=Number(n[0][2]).toString(16)).length===1?"0"+r:r;i+=(r=Number(n[1][2]).toString(16)).length===1?"0"+r:r;i+=(r=Number(n[2][2]).toString(16)).length===1?"0"+r:r;if(i.length===6)return this._compressHashColor(i,{})}}};CSSOCompressor.prototype.compressDimension=function(e){var t;if(e[2][2]==="0"){if(e[3][2]==="s"&&(t=this.findDeclaration(e))){var n=t[2][2][2];if(n==="-moz-transition")return;if(n==="-moz-animation"||n==="animation")return}return e[2]}};CSSOCompressor.prototype.compressString=function(e,t,n){var r=e[2],i="",s;for(var o=0;o<r.length;o++){s=r.charAt(o);s==="\\"&&r.charAt(o+1)==="\n"?o++:i+=s}if(r.length!==i.length)return[{},"string",i]};CSSOCompressor.prototype.compressFontWeight=function(e){var t=e[2],n=e[3];if(t[2][2].indexOf("font-weight")!==-1&&n[2][1]==="ident"){n[2][2]==="normal"?n[2]=[{},"number","400"]:n[2][2]==="bold"&&(n[2]=[{},"number","700"]);return e}};CSSOCompressor.prototype.compressFont=function(e){var t=e[2],n=e[3],r,i,s;if(/font$/.test(t[2][2])&&n.length){n.splice(2,0,[{},"s",""]);for(r=n.length-1;r>2;r--){i=n[r];if(i[1]==="ident"){i=i[2];if(i==="bold")n[r]=[{},"number","700"];else if(i==="normal"){s=n[r-1];s[1]==="operator"&&s[2]==="/"?n.splice(--r,2):n.splice(r,1);n[r-1][1]==="s"&&n.splice(--r,1)}else if(i==="medium"&&n[r+1]&&n[r+1][2]!=="/"){n.splice(r,1);n[r-1][1]==="s"&&n.splice(--r,1)}}}n.length>2&&n[2][1]==="s"&&n.splice(2,1);n.length===2&&n.push([{},"ident","normal"]);return e}};CSSOCompressor.prototype.compressBackground=function(e){var t=e[2],n=e[3],r,i,s,o=n[n.length-1][1]==="important"?3:2;if(/background$/.test(t[2][2])&&n.length){n.splice(2,0,[{},"s",""]);for(r=n.length-1;r>o;r--){i=n[r];if(i[1]==="ident"){i=i[2];if(i==="transparent"||i==="none"||i==="repeat"||i==="scroll"){n.splice(r,1);n[r-1][1]==="s"&&n.splice(--r,1)}}}n.length>2&&n[2][1]==="s"&&n.splice(2,1);n.length===2&&n.splice(2,0,[{},"number","0"],[{},"s"," "],[{},"number","0"]);return e}};CSSOCompressor.prototype.cleanEmpty=function(e,t){switch(t){case"ruleset":if(e[3].length===2)return null;break;case"atruleb":if(e[e.length-1].length<3)return null;break;case"atruler":if(e[4].length<3)return null}};CSSOCompressor.prototype.destroyDelims=function(){return null};CSSOCompressor.prototype.preTranslate=function(e){e[0].s=translator.translate(cleanInfo(e));return e};CSSOCompressor.prototype.markShorthands=function(e,t,n,r,i){if(n[1]==="ruleset")var s=n[2][2][0].s,o=n[0].freeze,u=n[0].freezeID;else var s="",o=!1,u="fake";var a,f,l,c,h,p,d,v=this.pathUp(i)+"/"+(o?"&"+u+"&":"")+s+"/",m,g,y=n[0].shortGroupID;for(var b=e.length-1;b>-1;b--){m=!0;a=e[b];if(a[1]==="declaration"){l=a[3];c=l[l.length-1][1]==="important";f=a[2][0].s;a[0].id=i+"/"+b;if(f in TRBL.props){p=v+TRBL.extractMain(f);var w=this.shorts2[p]||[];g=w.length===0?0:w.length-1;if(!this.lastShortSelector||s===this.lastShortSelector||y===this.lastShortGroupID)if(w.length){d=w[g];m=!1}if(m){a[0].replaceByShort=!0;a[0].shorthandKey={key:p,i:g};d=new TRBL(f,c);w.push(d)}if(!d.invalid){a[0].removeByShort=!0;a[0].shorthandKey={key:p,i:g};d.add(f,l[0].s,l.slice(2),c)}this.shorts2[p]=w;this.lastShortSelector=s;this.lastShortGroupID=y}}}return e};CSSOCompressor.prototype.cleanShorthands=function(e){if(e[0].removeByShort||e[0].replaceByShort){var t,n,r=e[0].shorthandKey;t=this.shorts2[r.key][r.i];if(!t.invalid&&t.isOkToMinimize()){if(e[0].replaceByShort){n=[{},"declaration",t.getProperty(),t.getValue()];n[0].s=translator.translate(cleanInfo(n));return n}return null}}};CSSOCompressor.prototype.dontRestructure={src:1,clip:1,display:1};CSSOCompressor.prototype.restructureBlock=function(e,t,n,r,i){if(n[1]==="ruleset")var s=this.props,o=n[2][2][0].pseudo,u=n[2][2][0].s,a=n[0].freeze,f=n[0].freezeID,l=n[0].pseudoID,c=n[2][2][0].sg;else var s={},o=!1,u="",a=!1,f="fake",l="fake",c={};var h,p,d,v,m,g=this.pathUp(i)+"/"+u+"/",y;for(var b=e.length-1;b>-1;b--){h=e[b];if(h[1]==="declaration"){d=h[3];v=d[d.length-1][1]==="important";p=h[2][0].s;y=this.buildPPre(g,p,d,h,a);h[0].id=i+"/"+b;if(!this.dontRestructure[p]&&(m=s[y])){if(o&&f===m.freezeID||!o&&l===m.pseudoID||o&&l===m.pseudoID&&this.hashInHash(c,m.sg))if(v&&!m.imp){s[y]={block:e,imp:v,id:h[0].id,sg:c,freeze:a,path:i,freezeID:f,pseudoID:l};this.deleteProperty(m.block,m.id)}else e.splice(b,1)}else this.needless(p,s,g,v,d,h,a)?e.splice(b,1):s[y]={block:e,imp:v,id:h[0].id,sg:c,freeze:a,path:i,freezeID:f,pseudoID:l}}}return e};CSSOCompressor.prototype.buildPPre=function(e,t,n,r,i){var s=i?"ft:":"ff:";if(t.indexOf("background")!==-1)return s+e+r[0].s;var o=n.slice(2),u=[0,0,0,0],a="";for(var f=0;f<o.length;f++){a||(a=this.getVendorIDFromToken(o[f]));switch(o[f][1]){case"vhash":case"ident":u[0]=1;break;case"funktion":switch(o[f][2][2]){case"rgb":u[0]=1;break;case"hsl":u[1]=1;break;case"hsla":u[2]=1;break;case"rgba":u[3]=1}}}return s+e+t+u.join("")+(a?a:"")};CSSOCompressor.prototype.vendorID={"-o-":"o","-moz-":"m","-webkit-":"w","-ms-":"i","-epub-":"e","-apple-":"a","-xv-":"x","-wap-":"p"};CSSOCompressor.prototype.getVendorIDFromToken=function(e){var t;switch(e[1]){case"ident":if(t=this.getVendorFromString(e[2]))return this.vendorID[t];break;case"funktion":if(t=this.getVendorFromString(e[2][2]))return this.vendorID[t]}};CSSOCompressor.prototype.getVendorFromString=function(e){var t=e.charAt(0),n;return t==="-"&&(n=e.indexOf("-",2))!==-1?e.substr(0,n+1):""};CSSOCompressor.prototype.deleteProperty=function(e,t){var n;for(var r=e.length-1;r>1;r--){n=e[r];if(Array.isArray(n)&&n[1]==="declaration"&&n[0].id===t){e.splice(r,1);return}}};CSSOCompressor.prototype.nlTable={"border-width":["border"],"border-style":["border"],"border-color":["border"],"border-top":["border"],"border-right":["border"],"border-bottom":["border"],"border-left":["border"],"border-top-width":["border-top","border-width","border"],"border-right-width":["border-right","border-width","border"],"border-bottom-width":["border-bottom","border-width","border"],"border-left-width":["border-left","border-width","border"],"border-top-style":["border-top","border-style","border"],"border-right-style":["border-right","border-style","border"],"border-bottom-style":["border-bottom","border-style","border"],"border-left-style":["border-left","border-style","border"],"border-top-color":["border-top","border-color","border"],"border-right-color":["border-right","border-color","border"],"border-bottom-color":["border-bottom","border-color","border"],"border-left-color":["border-left","border-color","border"],"margin-top":["margin"],"margin-right":["margin"],"margin-bottom":["margin"],"margin-left":["margin"],"padding-top":["padding"],"padding-right":["padding"],"padding-bottom":["padding"],"padding-left":["padding"],"font-style":["font"],"font-variant":["font"],"font-weight":["font"],"font-size":["font"],"font-family":["font"],"list-style-type":["list-style"],"list-style-position":["list-style"],"list-style-image":["list-style"]};CSSOCompressor.prototype.needless=function(e,t,n,r,i,s,o){var u=e.charAt(0);if(u==="*"||u==="_"||u==="$")e=e.substr(1);else if(u==="/"&&e.charAt(1)==="/"){u="//";e=e.substr(2)}else u="";var a=this.getVendorFromString(e),f=e.substr(a.length),l,c,h;if(f in this.nlTable){l=this.nlTable[f];for(var p=0;p<l.length;p++){h=this.buildPPre(n,u+a+l[p],i,s,o);if(c=t[h])return!r||c.imp}}};CSSOCompressor.prototype.rejoinRuleset=function(e,t,n,r){var i=r===2||n[r-1][1]==="unknown"?null:n[r-1],s=i?i[2].slice(2):[],o=i?i[3].slice(2):[],u=e[2].slice(2),a=e[3].slice(2),f,l,c;if(!a.length)return null;if(s.length&&o.length&&e[0].pseudoSignature==i[0].pseudoSignature){if(e[1]!==i[1])return;f=this.getHash(s);l=this.getHash(u);if(this.equalHash(l,f)){i[3]=i[3].concat(e[3].splice(2));return null}if(this.okToJoinByProperties(e,i)){c=this.analyze(e,i);if(!c.ne1.length&&!c.ne2.length){i[2]=this.cleanSelector(i[2].concat(e[2].splice(2)));i[2][0].s=translator.translate(cleanInfo(i[2]));return null}}}};CSSOCompressor.prototype.okToJoinByProperties=function(e,t){var n=e[0],r=t[0];return n.freezeID===r.freezeID?!0:n.pseudoID===r.pseudoID?!0:n.freeze&&r.freeze?this.pseudoSelectorSignature(e[2],this.allowedPClasses)===this.pseudoSelectorSignature(t[2],this.allowedPClasses):!n.freeze&&!r.freeze};CSSOCompressor.prototype.allowedPClasses={after:1,before:1};CSSOCompressor.prototype.containsOnlyAllowedPClasses=function(e){var t;for(var n=2;n<e.length;n++){t=e[n];for(var r=2;r<t.length;r++)if(t[r][1]=="pseudoc"||t[r][1]=="pseudoe")if(!(t[r][2][2]in this.allowedPClasses))return!1}return!0};CSSOCompressor.prototype.restructureRuleset=function(e,t,n,r){var i=r===2||n[r-1][1]==="unknown"?null:n[r-1],s=i?i[2].slice(2):[],o=i?i[3].slice(2):[],u=e[3].slice(2),a,f;if(!u.length)return null;if(s.length&&o.length&&e[0].pseudoSignature==i[0].pseudoSignature){if(e[1]!==i[1])return;a=this.analyze(e,i);if(a.eq.length&&(a.ne1.length||a.ne2.length))if(a.ne1.length&&!a.ne2.length){var l=e[2].slice(2),c=translator.translate(cleanInfo(e[2])),h=c.length+l.length-1,p=this.calcLength(a.eq)+a.eq.length-1;if(h<p){i[2]=this.cleanSelector(i[2].concat(e[2].slice(2)));e[3].splice(2);e[3]=e[3].concat(a.ne1);return e}}else if(a.ne2.length&&!a.ne1.length){var l=i[2].slice(2),c=translator.translate(cleanInfo(i[2])),h=c.length+l.length-1,p=this.calcLength(a.eq)+a.eq.length-1;if(h<p){e[2]=this.cleanSelector(i[2].concat(e[2].slice(2)));i[3].splice(2);i[3]=i[3].concat(a.ne2);return e}}else{var l=this.cleanSelector(i[2].concat(e[2].slice(2))),c=translator.translate(cleanInfo(l)),d=c.length+l.length-1+2,p=this.calcLength(a.eq)+a.eq.length-1;if(p>=d){l[0].s=c;f=[{f:0,l:0},"ruleset",l,[{f:0,l:0},"block"].concat(a.eq)];e[3].splice(2);e[3]=e[3].concat(a.ne1);i[3].splice(2);i[3]=i[3].concat(a.ne2);n.splice(r,0,f);return f}}}};CSSOCompressor.prototype.calcLength=function(e){var t=0;for(var n=0;n<e.length;n++)t+=e[n][0].s.length;return t};CSSOCompressor.prototype.cleanSelector=function(e){if(e.length===2)return null;var t={},n;for(var r=2;r<e.length;r++){n=e[r][0].s;n in t?(e.splice(r,1),r--):t[n]=1}return e};CSSOCompressor.prototype.analyze=function(e,t){var n={eq:[],ne1:[],ne2:[]};if(e[1]!==t[1])return n;var r=e[3],i=t[3],s=r.slice(2),o=i.slice(2),u,a,f,l;u=this.getHash(s);a=this.getHash(o);for(f=0;f<s.length;f++){l=s[f];l[0].s in a?n.eq.push(l):n.ne1.push(l)}for(f=0;f<o.length;f++){l=o[f];l[0].s in u||n.ne2.push(l)}return n};CSSOCompressor.prototype.equalHash=function(e,t){var n;for(n in e)if(!(n in t))return!1;for(n in t)if(!(n in e))return!1;return!0};CSSOCompressor.prototype.getHash=function(e){var t={};for(var n=0;n<e.length;n++)t[e[n][0].s]=1;return t};CSSOCompressor.prototype.hashInHash=function(e,t){for(var n in e)if(!(n in t))return!1;return!0};CSSOCompressor.prototype.delimSelectors=function(e){for(var t=e.length-1;t>2;t--)e.splice(t,0,[{},"delim"])};CSSOCompressor.prototype.delimBlocks=function(e){for(var t=e.length-1;t>2;t--)e.splice(t,0,[{},"decldelim"])};CSSOCompressor.prototype.copyArray=function(e){var t=[],n;for(var r=0;r<e.length;r++){n=e[r];Array.isArray(n)?t.push(this.copyArray(n)):typeof n=="object"?t.push(this.copyObject(n)):t.push(n)}return t};CSSOCompressor.prototype.copyObject=function(e){var t={};for(var n in e)t[n]=e[n];return t};CSSOCompressor.prototype.pathUp=function(e){return e.substr(0,e.lastIndexOf("/"))};CSSOTranslator.prototype.translate=function(e){return this._t(e)};CSSOTranslator.prototype._m_simple={unary:1,nth:1,combinator:1,ident:1,number:1,s:1,string:1,attrselector:1,operator:1,raw:1,unknown:1};CSSOTranslator.prototype._m_composite={simpleselector:1,dimension:1,selector:1,property:1,value:1,filterv:1,progid:1,ruleset:1,atruleb:1,atrulerq:1,atrulers:1,stylesheet:1};CSSOTranslator.prototype._m_primitive={cdo:"cdo",cdc:"cdc",decldelim:";",namespace:"|",delim:","};CSSOTranslator.prototype._t=function(e){var t=e[0];return t in this._m_primitive?this._m_primitive[t]:t in this._m_simple?this._simple(e):t in this._m_composite?this._composite(e):this[t](e)};CSSOTranslator.prototype._composite=function(e,t){var n="";t=t===undefined?1:t;for(;t<e.length;t++)n+=this._t(e[t]);return n};CSSOTranslator.prototype._simple=function(e){return e[1]};CSSOTranslator.prototype.percentage=function(e){return this._t(e[1])+"%"};CSSOTranslator.prototype.comment=function(e){return"/*"+e[1]+"*/"};CSSOTranslator.prototype.clazz=function(e){return"."+this._t(e[1])};CSSOTranslator.prototype.atkeyword=function(e){return"@"+this._t(e[1])};CSSOTranslator.prototype.shash=function(e){return"#"+e[1]};CSSOTranslator.prototype.vhash=function(e){return"#"+e[1]};CSSOTranslator.prototype.attrib=function(e){return"["+this._composite(e)+"]"};CSSOTranslator.prototype.important=function(e){return"!"+this._composite(e)+"important"};CSSOTranslator.prototype.nthselector=function(e){return":"+this._simple(e[1])+"("+this._composite(e,2)+")"};CSSOTranslator.prototype.funktion=function(e){return this._simple(e[1])+"("+this._composite(e[2])+")"};CSSOTranslator.prototype.declaration=function(e){return this._t(e[1])+":"+this._t(e[2])};CSSOTranslator.prototype.filter=function(e){return this._t(e[1])+":"+this._t(e[2])};CSSOTranslator.prototype.block=function(e){return"{"+this._composite(e)+"}"};CSSOTranslator.prototype.braces=function(e){return e[1]+this._composite(e,3)+e[2]};CSSOTranslator.prototype.atrules=function(e){return this._composite(e)+";"};CSSOTranslator.prototype.atruler=function(e){return this._t(e[1])+this._t(e[2])+"{"+this._t(e[3])+"}"};CSSOTranslator.prototype.pseudoe=function(e){return"::"+this._t(e[1])};CSSOTranslator.prototype.pseudoc=function(e){return":"+this._t(e[1])};CSSOTranslator.prototype.uri=function(e){return"url("+this._composite(e)+")"};CSSOTranslator.prototype.functionExpression=function(e){return"expression("+e[1]+")"};