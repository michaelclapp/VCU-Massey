function srcToCSSP(e,t,n){function i(e){function s(e){return"0123456789".indexOf(e)>=0}function o(e){throw e}function h(e){if(!e)return[];a=[];var r,o;for(f=0;f<e.length;f++){r=e.charAt(f);o=e.charAt(f+1);if(r==="/"&&o==="*")v(e);else if(!n&&r==="/"&&o==="/")i>0?b(e):m(e);else if(r==='"'||r==="'")g(e,r);else if(r===" ")d(e);else if(r in t){p(t[r],r);(r==="\n"||r==="\r")&&c++;r===")"&&(n=!1);r==="{"&&i++;r==="}"&&i--}else s(r)?y(e):b(e)}w();return a}function p(e,t){a.push({tn:l++,ln:c,type:e,value:t})}function d(e){var t=f;for(;f<e.length;f++)if(e.charAt(f)!==" ")break;p(r.Space,e.substring(t,f));f--}function v(e){var t=f;for(f+=2;f<e.length;f++)if(e.charAt(f)==="*"&&e.charAt(f+1)==="/"){f++;break}p(r.CommentML,e.substring(t,f+1))}function m(e){var t=f;for(f+=2;f<e.length;f++)if(e.charAt(f)==="\n"||e.charAt(f)==="\r"){f++;break}p(r.CommentSL,e.substring(t,f));f--}function g(e,t){var n=f;for(f+=1;f<e.length;f++)if(e.charAt(f)==="\\")f++;else if(e.charAt(f)===t)break;p(t==='"'?r.StringDQ:r.StringSQ,e.substring(n,f+1))}function y(e){var t=f;for(;f<e.length;f++)if(!s(e.charAt(f)))break;p(r.DecimalNumber,e.substring(t,f));f--}function b(e){var i=f;while(e.charAt(f)==="/")f++;for(;f<e.length;f++)if(e.charAt(f)==="\\")f++;else if(e.charAt(f)in t)break;var s=e.substring(i,f);n=n||s==="url";p(r.Identifier,s);f--}function w(){var e=[],t=[],n=[],i;for(var s=0;s<a.length;s++){i=a[s];switch(i.type){case r.LeftParenthesis:e.push(s);break;case r.RightParenthesis:if(e.length){i.left=e.pop();a[i.left].right=s}break;case r.LeftSquareBracket:t.push(s);break;case r.RightSquareBracket:if(t.length){i.left=t.pop();a[i.left].right=s}break;case r.LeftCurlyBracket:n.push(s);break;case r.RightCurlyBracket:if(n.length){i.left=n.pop();a[i.left].right=s}}}}var t,n=!1,i=0;t={" ":r.Space,"\n":r.Newline,"\r":r.Newline,"	":r.Tab,"!":r.ExclamationMark,'"':r.QuotationMark,"#":r.NumberSign,$:r.DollarSign,"%":r.PercentSign,"&":r.Ampersand,"'":r.Apostrophe,"(":r.LeftParenthesis,")":r.RightParenthesis,"*":r.Asterisk,"+":r.PlusSign,",":r.Comma,"-":r.HyphenMinus,".":r.FullStop,"/":r.Solidus,":":r.Colon,";":r.Semicolon,"<":r.LessThanSign,"=":r.EqualsSign,">":r.GreaterThanSign,"?":r.QuestionMark,"@":r.CommercialAt,"[":r.LeftSquareBracket,"]":r.RightSquareBracket,"^":r.CircumflexAccent,_:r.LowLine,"{":r.LeftCurlyBracket,"|":r.VerticalLine,"}":r.RightCurlyBracket,"~":r.Tilde};var u="",a=[],f,l=0,c=1;return h(e)}function s(e,t,n){function h(e){e&&e.ln>o&&(o=e.ln)}function p(){console.error("Please check the validity of the CSS block starting from the line #"+u);process&&process.exit(1);throw new Error}function d(e,t,n){i=e;a=n;s=0;$n();return t?c[t]():c.stylesheet()}function v(e){return G(e)||bn(e)||Xt(e)||pt(e)||Rt(e)||Mn(e)||Et(e)||xt(e)||kt(e)||kn(e)}function m(){if(G(s))return Y();if(bn(s))return wn();if(Xt(s))return Vt();if(pt(s))return dt();if(Rt(s))return Ut();if(Mn(s))return _n();if(Et(s))return St();if(xt(s))return Tt();if(kt(s))return Lt();if(kn(s))return Ln()}function g(e){var t;return i[e++].type!==r.CommercialAt?h(i[e-1]):(t=kt(e))?t+1:h(i[e])}function y(){var e=s;s++;return a?[{ln:i[e].ln},f.AtkeywordType,Lt()]:[f.AtkeywordType,Lt()]}function b(e){return i[e].type!==r.LeftSquareBracket?h(i[e]):i[e].right?i[e].right-e+1:h(i[e])}function w(e){var t=e;e++;var n=fn(e);n&&(e+=n);if(!(n=kt(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;if(!(n=N(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;if(!(n=kt(e))&&!(n=bn(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;return i[e].type===r.RightSquareBracket?e-t:h(i[e])}function E(){var e=s;s++;var t=(a?[{ln:i[e].ln},f.AttribType]:[f.AttribType]).concat(ln()).concat([Lt()]).concat(ln()).concat([C()]).concat(ln()).concat([bn(s)?wn():Lt()]).concat(ln());s++;return t}function S(e){var t=e;e++;var n=fn(e);n&&(e+=n);if(n=kt(e))e+=n;if(n=fn(e))e+=n;return i[e].type===r.RightSquareBracket?e-t:h(i[e])}function x(){var e=s;s++;var t=(a?[{ln:i[e].ln},f.AttribType]:[f.AttribType]).concat(ln()).concat([Lt()]).concat(ln());s++;return t}function T(){if(w(s))return E();if(S(s))return x()}function N(e){if(i[e].type===r.EqualsSign)return 1;if(i[e].type!==r.VerticalLine||!!i[e+1]&&i[e+1].type===r.EqualsSign){if(!i[e+1]||i[e+1].type!==r.EqualsSign)return h(i[e]);switch(i[e].type){case r.Tilde:case r.CircumflexAccent:case r.DollarSign:case r.Asterisk:case r.VerticalLine:return 2}return h(i[e])}return 1}function C(){var e=s,t=i[s++].value;i[s]&&i[s].type===r.EqualsSign&&(t+=i[s++].value);return a?[{ln:i[e].ln},f.AttrselectorType,t]:[f.AttrselectorType,t]}function k(e){var t=e,n;if(i[t].atrule_l!==undefined)return i[t].atrule_l;if(n=M(e))i[e].atrule_type=1;else if(n=A(e))i[e].atrule_type=2;else{if(!(n=j(e)))return h(i[t]);i[e].atrule_type=3}i[t].atrule_l=n;return n}function L(){switch(i[s].atrule_type){case 1:return _();case 2:return O();case 3:return F()}}function A(e){var t=e,n;if(!(n=g(e)))return h(i[e]);e+=n;if(n=Nn(e))e+=n;if(!(n=I(e)))return h(i[e]);e+=n;return e-t}function O(){return(a?[{ln:i[s].ln},f.AtrulebType,y()]:[f.AtrulebType,y()]).concat(Cn()).concat([q()])}function M(e){var t=e,n;if(!(n=g(e)))return h(i[e]);e+=n;if(n=D(e))e+=n;if(e<i.length&&i[e].type===r.LeftCurlyBracket){e++;if(n=H(e))e+=n;if(e<i.length&&i[e].type===r.RightCurlyBracket){e++;return e-t}return h(i[e])}return h(i[e])}function _(){var e=a?[{ln:i[s].ln},f.AtrulerType,y(),P()]:[f.AtrulerType,y(),P()];s++;e.push(B());s++;return e}function D(e){return Nn(e)}function P(){return(a?[{ln:i[s].ln},f.AtrulerqType]:[f.AtrulerqType]).concat(Cn())}function H(e){var t=e,n;if(n=fn(e))e+=n;while((n=sn(e))||(n=k(e))||(n=fn(e)))e+=n;i[e].atrulers_end=1;if(n=fn(e))e+=n;return e-t}function B(){var e=(a?[{ln:i[s].ln},f.AtrulersType]:[f.AtrulersType]).concat(ln()),t;while(!i[s].atrulers_end)fn(s)?e=e.concat(ln()):sn(s)?e.push(on()):e.push(L());return e.concat(ln())}function j(e){var t=e,n;if(!(n=g(e)))return h(i[e]);e+=n;if(n=Nn(e))e+=n;if(e>=i.length)return e-t;if(i[e].type!==r.Semicolon)return h(i[e]);e++;return e-t}function F(){var e=(a?[{ln:i[s].ln},f.AtrulesType,y()]:[f.AtrulesType,y()]).concat(Cn());s++;return e}function I(e){return e<i.length&&i[e].type===r.LeftCurlyBracket?i[e].right-e+1:h(i[e])}function q(){var e=a?[{ln:i[s].ln},f.BlockType]:[f.BlockType],t=i[s].right;s++;while(s<t)R(s)?e=e.concat(U()):p();s=t+1;return e}function R(e){var t;if(t=z(e))i[e].bd_type=1;else if(t=X(e))i[e].bd_type=2;else if(t=$(e))i[e].bd_type=3;else{if(!(t=K(e)))return h(i[e]);i[e].bd_type=4}return t}function U(){switch(i[s].bd_type){case 1:return W();case 2:return V();case 3:return J();case 4:return Q()}}function z(e){var t=e,n;if(n=fn(e))e+=n;if(n=vt(e)){i[e].bd_filter=1;e+=n}else{if(!(n=ut(e)))return h(i[e]);i[e].bd_decl=1;e+=n}if(!(e<i.length&&(n=ft(e))))return h(i[e]);e+=n;if(n=fn(e))e+=n;return e-t}function W(){return ln().concat([i[s].bd_filter?mt():at()]).concat([lt()]).concat(ln())}function X(e){var t=e,n;if(n=fn(e))e+=n;if(n=vt(e)){i[e].bd_filter=1;e+=n}else{if(!(n=ut(e)))return h(i[e]);i[e].bd_decl=1;e+=n}if(n=fn(e))e+=n;return e-t}function V(){return ln().concat([i[s].bd_filter?mt():at()]).concat(ln())}function $(e){var t=e,n;if(n=fn(e))e+=n;if(!(n=ft(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;return e-t}function J(){return ln().concat([lt()]).concat(ln())}function K(e){return fn(e)}function Q(){return ln()}function G(e){return e>=i.length||i[e].type!==r.LeftParenthesis&&i[e].type!==r.LeftSquareBracket?h(i[e]):i[e].right-e+1}function Y(){var e=s,t=s,n=i[s].right;s++;var r=Cn();s++;return a?[{ln:i[e].ln},f.BracesType,i[t].value,i[n].value].concat(r):[f.BracesType,i[t].value,i[n].value].concat(r)}function Z(e){}function et(e){}function tt(e){var t;if(i[e].clazz_l)return i[e].clazz_l;if(i[e].type===r.FullStop)if(t=kt(e+1)){i[e].clazz_l=t+1;return t+1}return h(i[e])}function nt(){var e=s;s++;return a?[{ln:i[e].ln},f.ClazzType,Lt()]:[f.ClazzType,Lt()]}function rt(e){return i[e].type===r.PlusSign||i[e].type===r.GreaterThanSign||i[e].type===r.Tilde?1:h(i[e])}function it(){return a?[{ln:i[s].ln},f.CombinatorType,i[s++].value]:[f.CombinatorType,i[s++].value]}function st(e){return i[e].type===r.CommentML?1:h(i[e])}function ot(){var e=s,t=i[s].value.substring(2),n=t.length;t.charAt(n-2)==="*"&&t.charAt(n-1)==="/"&&(t=t.substring(0,n-2));s++;return a?[{ln:i[e].ln},f.CommentType,t]:[f.CommentType,t]}function ut(e){var t=e,n;if(!(n=Qt(e)))return h(i[e]);e+=n;if(e<i.length&&i[e].type===r.Colon){e++;if(!(n=Pn(e)))return h(i[e]);e+=n;return e-t}return h(i[e])}function at(){var e=a?[{ln:i[s].ln},f.DeclarationType,Gt()]:[f.DeclarationType,Gt()];s++;e.push(Bn());return e}function ft(e){return e<i.length&&i[e].type===r.Semicolon?1:h(i[e])}function lt(){var e=s;s++;return a?[{ln:i[e].ln},f.DecldelimType]:[f.DecldelimType]}function ct(e){return e<i.length&&i[e].type===r.Comma?1:e>=i.length?h(i[i.length-1]):h(i[e])}function ht(){var e=s;s++;return a?[{ln:i[e].ln},f.DelimType]:[f.DelimType]}function pt(e){var t=Rt(e),n;return!t||t&&e+t>=i.length?h(i[e]):(n=Un(e+t))?t+n:h(i[e])}function dt(){var e=s,t=Ut(),n=a?[{ln:i[s].ln},f.IdentType,zn()]:[f.IdentType,zn()];return a?[{ln:i[e].ln},f.DimensionType,t,n]:[f.DimensionType,t,n]}function vt(e){var t=e,n;if(!(n=gt(e)))return h(i[e]);e+=n;if(i[e].type!==r.Colon)return h(i[e]);e++;if(!(n=bt(e)))return h(i[e]);e+=n;return e-t}function mt(){var e=a?[{ln:i[s].ln},f.FilterType,yt()]:[f.FilterType,yt()];s++;e.push(wt());return e}function gt(e){var t=e,n,r;if(e<i.length){if(i[e].value==="filter")n=1;else{r=Vn(e,2);if(r==="-filter"||r==="_filter"||r==="*filter")n=2;else{r=Vn(e,4);if(r!=="-ms-filter")return h(i[e]);n=4}}i[t].filterp_l=n;e+=n;fn(e)&&(e+=n);return e-t}return h(i[e])}function yt(){var e=s,t=Vn(s,i[s].filterp_l),n=a?[{ln:i[e].ln},f.IdentType,t]:[f.IdentType,t];s+=i[s].filterp_l;return(a?[{ln:i[e].ln},f.PropertyType,n]:[f.PropertyType,n]).concat(ln())}function bt(e){var t=e,n;if(!(n=$t(e)))return h(i[e]);e+=n;while(n=$t(e))e+=n;i[t].last_progid=e;e<i.length&&(n=fn(e))&&(e+=n);e<i.length&&(n=At(e))&&(e+=n);return e-t}function wt(){var e=a?[{ln:i[s].ln},f.FiltervType]:[f.FiltervType],t=i[s].last_progid;while(s<t)e.push(Jt());e=e.concat(fn(s)?ln():[]);s<i.length&&At(s)&&e.push(Ot());return e}function Et(e){var t=e;return!i[e]||i[e++].value!=="expression"?h(i[e-1]):!i[e]||i[e].type!==r.LeftParenthesis?h(i[e]):i[e].right-t+1}function St(){var e=s;s++;var t=Xn(s+1,i[s].right-1);s=i[s].right+1;return a?[{ln:i[e].ln},f.FunctionExpressionType,t]:[f.FunctionExpressionType,t]}function xt(e){var t=e,n=kt(e);if(!n)return h(i[e]);e+=n;return e>=i.length||i[e].type!==r.LeftParenthesis?h(i[e-1]):i[e].right-t+1}function Tt(){var e=s,t=Lt();s++;var n=t[a?2:1]!=="not"?Nt():Ct();return a?[{ln:i[e].ln},f.FunktionType,t,n]:[f.FunktionType,t,n]}function Nt(){var e=s,t=[],n;while(i[s].type!==r.RightParenthesis)if(xn(s)){n=Tn();a&&typeof n[1]=="string"||typeof n[0]=="string"?t.push(n):t=t.concat(n)}else tt(s)?t.push(nt()):p();s++;return(a?[{ln:i[e].ln},f.FunctionBodyType]:[f.FunctionBodyType]).concat(t)}function Ct(){var e=s,t=[],n;while(i[s].type!==r.RightParenthesis)vn(s)?t.push(gn()):p();s++;return(a?[{ln:i[e].ln},f.FunctionBodyType]:[f.FunctionBodyType]).concat(t)}function kt(e){var t=e,n=!1;if(e<i.length&&(i[e].type===r.HyphenMinus||i[e].type===r.LowLine||i[e].type===r.Identifier||i[e].type===r.DollarSign||i[e].type===r.Asterisk)){e++;n=i[e-1].type===r.Identifier;for(;e<i.length;e++)if(i[e].type!==r.HyphenMinus&&i[e].type!==r.LowLine){if(i[e].type!==r.Identifier&&(i[e].type!==r.DecimalNumber||!n))break;n=!0}if(!n&&i[t].type!==r.Asterisk)return h(i[e]);i[t].ident_last=e-1;return e-t}return h(i[e])}function Lt(){var e=s,t=Xn(s,i[s].ident_last);s=i[s].ident_last+1;return a?[{ln:i[e].ln},f.IdentType,t]:[f.IdentType,t]}function At(e){var t=e,n;if(i[e++].type!==r.ExclamationMark)return h(i[e-1]);if(n=fn(e))e+=n;return i[e].value!=="important"?h(i[e]):e-t+1}function Ot(){var e=s;s++;var t=ln();s++;return(a?[{ln:i[e].ln},f.ImportantType]:[f.ImportantType]).concat(t)}function Mt(e){return i[e].type===r.VerticalLine?1:h(i[e])}function _t(){var e=s;s++;return a?[{ln:i[e].ln},f.NamespaceType]:[f.NamespaceType]}function Dt(e){return Pt(e)||Bt(e)}function Pt(e){var t=e;for(;e<i.length;e++)if(i[e].type!==r.DecimalNumber&&i[e].value!=="n")break;if(e!==t){i[t].nth_last=e-1;return e-t}return h(i[e])}function Ht(){var e=s;if(i[s].nth_last){var t=a?[{ln:i[e].ln},f.NthType,Xn(s,i[s].nth_last)]:[f.NthType,Xn(s,i[s].nth_last)];s=i[s].nth_last+1;return t}return a?[{ln:i[e].ln},f.NthType,i[s++].value]:[f.NthType,i[s++].value]}function Bt(e){return i[e].value==="even"||i[e].value==="odd"?1:h(i[e])}function jt(e){var t=e,n=0;if(i[e++].type!==r.Colon)return h(i[e-1]);n++;if(i[e++].value!=="nth"||i[e++].value!=="-")return h(i[e-1]);n+=2;if("child"===i[e].value)n+=1;else if("last-child"===i[e].value+i[e+1].value+i[e+2].value)n+=3;else if("of-type"===i[e].value+i[e+1].value+i[e+2].value)n+=3;else{if("last-of-type"!==i[e].value+i[e+1].value+i[e+2].value+i[e+3].value+i[e+4].value)return h(i[e]);n+=5}i[t+1].nthf_last=t+n-1;return n}function Ft(){s++;var e=Xn(s,i[s].nthf_last);s=i[s].nthf_last+1;return e}function It(e){var t=e,n;if(!(n=jt(e)))return h(i[e]);e+=n;if(i[e].type!==r.LeftParenthesis||!i[e].right)return h(i[e]);n++;var s=i[e++].right;while(e<s)if(n=fn(e))e+=n;else if(n=kn(e))e+=n;else{if(!(n=Dt(e)))return h(i[e]);e+=n}return s-t+1}function qt(){var e=s,t=a?[{ln:i[s].ln},f.IdentType,Ft()]:[f.IdentType,Ft()],n=a?[{ln:i[s].ln},f.NthselectorType,t]:[f.NthselectorType,t];s++;while(i[s].type!==r.RightParenthesis)fn(s)?n=n.concat(ln()):kn(s)?n.push(Ln()):Dt(s)&&n.push(Ht());s++;return n}function Rt(e){return e<i.length&&i[e].number_l?i[e].number_l:e<i.length&&i[e].type===r.DecimalNumber&&(!i[e+1]||i[e+1]&&i[e+1].type!==r.FullStop)?(i[e].number_l=1,i[e].number_l):e<i.length&&i[e].type===r.DecimalNumber&&i[e+1]&&i[e+1].type===r.FullStop&&(!i[e+2]||i[e+2].type!==r.DecimalNumber)?(i[e].number_l=2,i[e].number_l):e<i.length&&i[e].type===r.FullStop&&i[e+1].type===r.DecimalNumber?(i[e].number_l=2,i[e].number_l):e<i.length&&i[e].type===r.DecimalNumber&&i[e+1]&&i[e+1].type===r.FullStop&&i[e+2]&&i[e+2].type===r.DecimalNumber?(i[e].number_l=3,i[e].number_l):h(i[e])}function Ut(){var e="",t=s,n=i[s].number_l;for(var r=0;r<n;r++)e+=i[s+r].value;s+=n;return a?[{ln:i[t].ln},f.NumberType,e]:[f.NumberType,e]}function zt(e){return e<i.length&&(i[e].type===r.Solidus||i[e].type===r.Comma||i[e].type===r.Colon||i[e].type===r.EqualsSign)?1:h(i[e])}function Wt(){return a?[{ln:i[s].ln},f.OperatorType,i[s++].value]:[f.OperatorType,i[s++].value]}function Xt(e){var t=Rt(e);return!t||t&&e+t>=i.length?h(i[e]):i[e+t].type===r.PercentSign?t+1:h(i[e])}function Vt(){var e=s,t=Ut();s++;return a?[{ln:i[e].ln},f.PercentageType,t]:[f.PercentageType,t]}function $t(e){var t=e,n,s;if(n=fn(e))e+=n;if((s=Vn(e,6))!=="progid:DXImageTransform.Microsoft.")return h(i[e-1]);_start=e;e+=6;if(!(n=kt(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;if(i[e].type!==r.LeftParenthesis)return h(i[e]);i[t].progid_end=i[e].right;e=i[e].right+1;if(n=fn(e))e+=n;return e-t}function Jt(){var e=s,t=i[s].progid_end;return(a?[{ln:i[e].ln},f.ProgidType]:[f.ProgidType]).concat(ln()).concat([Kt(t)]).concat(ln())}function Kt(e){var t=s,n=Xn(s,e);s=e+1;return a?[{ln:i[t].ln},f.RawType,n]:[f.RawType,n]}function Qt(e){var t=e,n;if(!(n=kt(e)))return h(i[e]);e+=n;if(n=fn(e))e+=n;return e-t}function Gt(){var e=s;return(a?[{ln:i[e].ln},f.PropertyType,Lt()]:[f.PropertyType,Lt()]).concat(ln())}function Yt(e){return en(e)||nn(e)}function Zt(){if(en(s))return tn();if(nn(s))return rn()}function en(e){var t;return i[e++].type!==r.Colon?h(i[e-1]):i[e++].type!==r.Colon?h(i[e-1]):(t=kt(e))?t+2:h(i[e])}function tn(){var e=s;s+=2;return a?[{ln:i[e].ln},f.PseudoeType,Lt()]:[f.PseudoeType,Lt()]}function nn(e){var t;return i[e++].type!==r.Colon?h(i[e-1]):(t=xt(e))||(t=kt(e))?t+1:h(i[e])}function rn(){var e=s;s++;return a?[{ln:i[e].ln},f.PseudocType,xt(s)?Tt():Lt()]:[f.PseudocType,xt(s)?Tt():Lt()]}function sn(e){var t=e,n;if(i[t].ruleset_l!==undefined)return i[t].ruleset_l;while(n=cn(e))e+=n;if(!(n=I(e)))return h(i[e]);e+=n;i[t].ruleset_l=e-t;return e-t}function on(){var e=a?[{ln:i[s].ln},f.RulesetType]:[f.RulesetType];while(!I(s))e.push(hn());e.push(q());return e}function un(e){return i[e].ws?i[e].ws_last-e+1:h(i[e])}function an(){var e=s,t=Xn(s,i[s].ws_last);s=i[s].ws_last+1;return a?[{ln:i[e].ln},f.SType,t]:[f.SType,t]}function fn(e){var t,n=0;while(e<i.length){if(!(t=un(e))&&!(t=st(e)))break;e+=t;n+=t}return n?n:e>=i.length?h(i[i.length-1]):h(i[e])}function ln(){var e=[];while(s<i.length)if(un(s))e.push(an());else{if(!st(s))break;e.push(ot())}return e}function cn(e){var t=e,n;if(e<i.length){while(n=vn(e)||ct(e))e+=n;i[t].selector_end=e-1;return e-t}}function hn(){var e=a?[{ln:i[s].ln},f.SelectorType]:[f.SelectorType],t=i[s].selector_end;while(s<=t)e.push(ct(s)?ht():gn());return e}function pn(e){if(i[e].type!==r.NumberSign)return h(i[e]);var t=qn(e+1);return t?t+1:h(i[e])}function dn(){var e=s;s++;return a?[{ln:i[e].ln},f.ShashType,Rn()]:[f.ShashType,Rn()]}function vn(e){var t=e,n;while(e<i.length){if(!(n=mn(e)))break;e+=n}return e-t?e-t:e>=i.length?h(i[i.length-1]):h(i[e])}function mn(e){return It(e)||rt(e)||b(e)||Yt(e)||tt(e)||pn(e)||v(e)||fn(e)||Mt(e)}function gn(){var e=a?[{ln:i[s].ln},f.SimpleselectorType]:[f.SimpleselectorType],t;while(s<i.length&&mn(s)){t=yn();a&&typeof t[1]=="string"||typeof t[0]=="string"?e.push(t):e=e.concat(t)}return e}function yn(){if(It(s))return qt();if(rt(s))return it();if(b(s))return T();if(Yt(s))return Zt();if(tt(s))return nt();if(pn(s))return dn();if(v(s))return m();if(fn(s))return ln();if(Mt(s))return _t()}function bn(e){return e<i.length&&(i[e].type===r.StringSQ||i[e].type===r.StringDQ)?1:h(i[e])}function wn(){var e=s;return a?[{ln:i[e].ln},f.StringType,i[s++].value]:[f.StringType,i[s++].value]}function En(e){var t=e,n;while(e<i.length)if(n=fn(e))e+=n;else{u=i[e].ln;(n=k(e))?e+=n:(n=sn(e))?e+=n:(n=An(e))?e+=n:p()}return e-t}function Sn(e){var t,n=a?[{ln:i[s].ln},f.StylesheetType]:[f.StylesheetType];while(s<i.length)if(fn(s))n=n.concat(ln());else{u=i[s].ln;sn(s)?n.push(on()):k(s)?n.push(L()):An(s)?n.push(On()):p()}return n}function xn(e){return Fn(e)||v(e)||fn(e)||zt(e)}function Tn(){if(Fn(s))return In();if(v(s))return m();if(fn(s))return ln();if(zt(s))return Wt()}function Nn(e){var t=e,n;while(n=xn(e))e+=n;return e-t}function Cn(){var e=[],t;while(t=Tn())a&&typeof t[1]=="string"||typeof t[0]=="string"?e.push(t):e=e.concat(t);return e}function kn(e){return e<i.length&&(i[e].type===r.HyphenMinus||i[e].type===r.PlusSign)?1:h(i[e])}function Ln(){var e=s;return a?[{ln:i[e].ln},f.UnaryType,i[s++].value]:[f.UnaryType,i[s++].value]}function An(e){return e<i.length&&i[e].type===r.CommentSL?1:h(i[e])}function On(){var e=s;return a?[{ln:i[e].ln},f.UnknownType,i[s++].value]:[f.UnknownType,i[s++].value]}function Mn(e){var t=e,n;return e<i.length&&i[e++].value!=="url"?h(i[e-1]):!i[e]||i[e].type!==r.LeftParenthesis?h(i[e]):i[e].right-t+1}function _n(){var e=s,t={};s+=2;t[r.Space]=1;t[r.Tab]=1;t[r.Newline]=1;t[r.LeftParenthesis]=1;t[r.RightParenthesis]=1;if(Dn(s)){var n=(a?[{ln:i[e].ln},f.UriType]:[f.UriType]).concat(ln()).concat([wn()]).concat(ln());s++;return n}var n=(a?[{ln:i[e].ln},f.UriType]:[f.UriType]).concat(ln()),o=Wn(t,s),u=a?[{ln:i[s].ln},f.RawType,Xn(s,s+o)]:[f.RawType,Xn(s,s+o)];n.push(u);s+=o+1;n=n.concat(ln());s++;return n}function Dn(e){var t=e,n=fn(e);n&&(e+=n);if(i[e].type!==r.StringDQ&&i[e].type!==r.StringSQ)return h(i[e]);e++;if(n=fn(e))e+=n;return e-t}function Pn(e){var t=e,n;while(e<i.length){if(!(n=Hn(e)))break;e+=n}return e-t?e-t:h(i[e])}function Hn(e){return fn(e)||Fn(e)||v(e)||I(e)||g(e)||zt(e)||At(e)}function Bn(){var e=a?[{ln:i[s].ln},f.ValueType]:[f.ValueType],t;while(s<i.length&&Hn(s)){t=jn();a&&typeof t[1]=="string"||typeof t[0]=="string"?e.push(t):e=e.concat(t)}return e}function jn(){if(fn(s))return ln();if(Fn(s))return In();if(v(s))return m();if(I(s))return q();if(g(s))return y();if(zt(s))return Wt();if(At(s))return Ot()}function Fn(e){if(e>=i.length||i[e].type!==r.NumberSign)return h(i[e]);var t=Un(e+1);return t?t+1:h(i[e])}function In(){var e=s;s++;return a?[{ln:i[e].ln},f.VhashType,zn()]:[f.VhashType,zn()]}function qn(e){var t=e;if(i[e].type!==r.HyphenMinus&&i[e].type!==r.LowLine&&i[e].type!==r.Identifier&&i[e].type!==r.DecimalNumber)return h(i[e]);e++;for(;e<i.length;e++)if(i[e].type!==r.HyphenMinus&&i[e].type!==r.LowLine&&i[e].type!==r.Identifier&&i[e].type!==r.DecimalNumber)break;i[t].nm_name_last=e-1;return e-t}function Rn(){var e=Xn(s,i[s].nm_name_last);s=i[s].nm_name_last+1;return e}function Un(e){var t=e;if(i[e].type===r.Identifier)return 1;if(i[e].type!==r.DecimalNumber)return h(i[e]);e++;return!i[e]||i[e].type!==r.Identifier?1:2}function zn(){var e=i[s].value;i[s++].type===r.DecimalNumber&&s<i.length&&i[s].type===r.Identifier&&(e+=i[s++].value);return e}function Wn(e,t){var n=t;while(t<i.length)if(e[i[t++].type])break;return t-n-2}function Xn(e,t){var n="";for(var r=e;r<t+1;r++)n+=i[r].value;return n}function Vn(e,t){if(e+t-1>=i.length)return;var n="";for(var r=0;r<t;r++)n+=i[e+r].value;return n}function $n(){var e=-1,t=-1,n;for(var s=0;s<i.length;s++){n=i[s];switch(n.type){case r.Space:case r.Tab:case r.Newline:n.ws=!0;n.sc=!0;e===-1&&(e=s);t===-1&&(t=s);break;case r.CommentML:if(e!==-1){i[e].ws_last=s-1;e=-1}n.sc=!0;break;default:if(e!==-1){i[e].ws_last=s-1;e=-1}if(t!==-1){i[t].sc_last=s-1;t=-1}}}e!==-1&&(i[e].ws_last=s-1);t!==-1&&(i[t].sc_last=s-1)}var i,s,o=0,u=0,a=!1,f,l,c;f={IdentType:"ident",AtkeywordType:"atkeyword",StringType:"string",ShashType:"shash",VhashType:"vhash",NumberType:"number",PercentageType:"percentage",DimensionType:"dimension",CdoType:"cdo",CdcType:"cdc",DecldelimType:"decldelim",SType:"s",AttrselectorType:"attrselector",AttribType:"attrib",NthType:"nth",NthselectorType:"nthselector",NamespaceType:"namespace",ClazzType:"clazz",PseudoeType:"pseudoe",PseudocType:"pseudoc",DelimType:"delim",StylesheetType:"stylesheet",AtrulebType:"atruleb",AtrulesType:"atrules",AtrulerqType:"atrulerq",AtrulersType:"atrulers",AtrulerType:"atruler",BlockType:"block",RulesetType:"ruleset",CombinatorType:"combinator",SimpleselectorType:"simpleselector",SelectorType:"selector",DeclarationType:"declaration",PropertyType:"property",ImportantType:"important",UnaryType:"unary",OperatorType:"operator",BracesType:"braces",ValueType:"value",ProgidType:"progid",FiltervType:"filterv",FilterType:"filter",CommentType:"comment",UriType:"uri",RawType:"raw",FunctionBodyType:"functionBody",FunktionType:"funktion",FunctionExpressionType:"functionExpression",UnknownType:"unknown"};c={ident:function(){if(kt(s))return Lt()},atkeyword:function(){if(g(s))return y()},string:function(){if(bn(s))return wn()},shash:function(){if(pn(s))return dn()},vhash:function(){if(Fn(s))return In()},number:function(){if(Rt(s))return Ut()},percentage:function(){if(Xt(s))return Vt()},dimension:function(){if(pt(s))return dt()},decldelim:function(){if(ft(s))return lt()},s:function(){if(un(s))return an()},attrselector:function(){if(N(s))return C()},attrib:function(){if(b(s))return T()},nth:function(){if(Dt(s))return Ht()},nthselector:function(){if(It(s))return qt()},namespace:function(){if(Mt(s))return _t()},clazz:function(){if(tt(s))return nt()},pseudoe:function(){if(en(s))return tn()},pseudoc:function(){if(nn(s))return rn()},delim:function(){if(ct(s))return ht()},stylesheet:function(){if(En(s))return Sn()},atruleb:function(){if(A(s))return O()},atrules:function(){if(j(s))return F()},atrulerq:function(){if(D(s))return P()},atrulers:function(){if(H(s))return B()},atruler:function(){if(M(s))return _()},block:function(){if(I(s))return q()},ruleset:function(){if(sn(s))return on()},combinator:function(){if(rt(s))return it()},simpleselector:function(){if(vn(s))return gn()},selector:function(){if(cn(s))return hn()},declaration:function(){if(ut(s))return at()},property:function(){if(Qt(s))return Gt()},important:function(){if(At(s))return Ot()},unary:function(){if(kn(s))return Ln()},operator:function(){if(zt(s))return Wt()},braces:function(){if(G(s))return Y()},value:function(){if(Pn(s))return Bn()},progid:function(){if($t(s))return Jt()},filterv:function(){if(bt(s))return wt()},filter:function(){if(vt(s))return mt()},comment:function(){if(st(s))return ot()},uri:function(){if(Mn(s))return _n()},raw:function(){if(checkRaw(s))return getRaw()},funktion:function(){if(xt(s))return Tt()},functionExpression:function(){if(Et(s))return St()},unknown:function(){if(An(s))return On()}};return d(e,t,n)}var r={StringSQ:"StringSQ",StringDQ:"StringDQ",CommentML:"CommentML",CommentSL:"CommentSL",Newline:"Newline",Space:"Space",Tab:"Tab",ExclamationMark:"ExclamationMark",QuotationMark:"QuotationMark",NumberSign:"NumberSign",DollarSign:"DollarSign",PercentSign:"PercentSign",Ampersand:"Ampersand",Apostrophe:"Apostrophe",LeftParenthesis:"LeftParenthesis",RightParenthesis:"RightParenthesis",Asterisk:"Asterisk",PlusSign:"PlusSign",Comma:"Comma",HyphenMinus:"HyphenMinus",FullStop:"FullStop",Solidus:"Solidus",Colon:"Colon",Semicolon:"Semicolon",LessThanSign:"LessThanSign",EqualsSign:"EqualsSign",GreaterThanSign:"GreaterThanSign",QuestionMark:"QuestionMark",CommercialAt:"CommercialAt",LeftSquareBracket:"LeftSquareBracket",ReverseSolidus:"ReverseSolidus",RightSquareBracket:"RightSquareBracket",CircumflexAccent:"CircumflexAccent",LowLine:"LowLine",LeftCurlyBracket:"LeftCurlyBracket",VerticalLine:"VerticalLine",RightCurlyBracket:"RightCurlyBracket",Tilde:"Tilde",Identifier:"Identifier",DecimalNumber:"DecimalNumber"};return s(i(e),t,n)};