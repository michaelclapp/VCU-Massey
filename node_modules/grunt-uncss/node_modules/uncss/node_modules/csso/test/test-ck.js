function parse(e,t){return csso.parse(e,t,!0)}function clean(e,t,n){var r=parse(e,t);n&&(r=csso.compress(r));return utils.cleanInfo(r)}function readFile(e){return fs.readFileSync(e).toString().trim()}function runTest(e,t,n){var r=readFile(t+".css"),i=path.relative(__dirname,t),s=function(e){it("in "+i,function(){assert.equal(funcs[e](r,n),readFile(t+"."+e))})};for(var o in funcs)o in e&&s(o)}function runTestsInDir(e,t){var n={};fs.readdirSync(e).forEach(function(e){var t=path.extname(e);if(t){var r=path.basename(e,t);n[r]||(n[r]={});n[r][t.substring(1)]=1}});for(var r in n)runTest(n[r],path.join(e,r),t)}var fs=require("fs"),path=require("path"),assert=require("assert"),csso=require("../lib/cssoapi.js"),utils=require("../lib/util.js"),funcs={p:function(t,n){return csso.treeToString(clean(t,n))},l:function(t,n){return csso.translate(clean(t,n))},cl:function(t,n){return csso.translate(clean(t,n,!0))}};describe("CSSO",function(){var e=path.join(__dirname,"data");fs.readdirSync(e).forEach(function(t){var n=path.join(e,t),r=fs.statSync(n);if(!r.isDirectory())return;runTestsInDir(n,t.substring(5))})});