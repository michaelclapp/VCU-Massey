/*
 * grunt-uncss
 * https://github.com/addyosmani/grunt-uncss
 *
 * Copyright (c) 2013 Addy Osmani
 * Licensed under the MIT license.
 */"use strict";module.exports=function(e){var t=require("uncss"),n=require("path");e.registerMultiTask("uncss","Remove unused CSS",function(){var n=this.async(),r=this.options({compress:!1,ignore:[""]});this.files.forEach(function(i){var s=i.src.filter(function(t){if(!e.file.exists(t)){e.log.warn('Source file "'+t+'" not found.');return!1}return!0});if(s.length===0){e.log.warn("Destination ("+i.dest+") not written because src files were empty.");return}try{t(s,r,function(t){e.file.write(i.dest,t)});n()}catch(o){console.log(o);var u=new Error("Uncss failed.");o.msg&&(u.message+=", "+o.msg+".");u.origError=o;e.log.warn('Uncssing source "'+s+'" failed.');e.fail.warn(u)}})})};