var Event=require("./event"),EventTarget={onopen:null,onmessage:null,onerror:null,onclose:null,addEventListener:function(e,t,n){this._listeners=this._listeners||{};var r=this._listeners[e]=this._listeners[e]||[];r.push(t)},removeEventListener:function(e,t,n){if(!this._listeners||!this._listeners[e])return;if(!t){delete this._listeners[e];return}var r=this._listeners[e],i=r.length;while(i--){if(t!==r[i])continue;r.splice(i,1)}},dispatchEvent:function(e){e.target=e.currentTarget=this;e.eventPhase=Event.AT_TARGET;this["on"+e.type]&&this["on"+e.type](e);if(!this._listeners||!this._listeners[e.type])return;this._listeners[e.type].forEach(function(t){t(e)},this)}};module.exports=EventTarget;