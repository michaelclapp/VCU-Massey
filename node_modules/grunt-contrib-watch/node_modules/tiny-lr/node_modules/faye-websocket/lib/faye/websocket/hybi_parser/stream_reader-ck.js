var StreamReader=function(){this._queue=[];this._cursor=0};StreamReader.prototype.read=function(e){return this._readBuffer(e)};StreamReader.prototype.put=function(e){if(!e||e.length===0)return;e.copy||(e=new Buffer(e));this._queue.push(e)};StreamReader.prototype._readBuffer=function(e){var t=new Buffer(e),n=this._queue,r=e,i=n.length,s=0,o,u,a;if(r===0)return t;while(r>0&&s<i){o=n[s];u=s===0?this._cursor:0;a=Math.min(r,o.length-u);o.copy(t,e-r,u,u+a);r-=a;s+=1}if(r>0)return null;n.splice(0,s-1);this._cursor=(s===1?this._cursor:0)+a;return t};module.exports=StreamReader;