"use strict";function cleanUp(e){["sub/rename.js","sub/renamed.js"].forEach(function(e){var t=path.resolve(__dirname,"fixtures",e);fs.existsSync(t)&&fs.unlinkSync(t)});e()}var gaze=require("../lib/gaze.js"),path=require("path"),fs=require("fs");exports.watch={setUp:function(e){process.chdir(path.resolve(__dirname,"fixtures"));cleanUp(e)},tearDown:cleanUp,rename:function(e){e.expect(2);var t=path.join(__dirname,"fixtures","sub","rename.js"),n=path.join(__dirname,"fixtures","sub","renamed.js");fs.writeFileSync(t,"var rename = true;");gaze("**/*",function(r,i){i.on("renamed",function(r,s){e.equal(r,n);e.equal(s,t);i.close();e.done()});fs.renameSync(t,n)})}};