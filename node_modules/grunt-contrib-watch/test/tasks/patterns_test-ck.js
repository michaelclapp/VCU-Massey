"use strict";function cleanUp(){helper.cleanUp(["patterns/node_modules"])}var grunt=require("grunt"),path=require("path"),fs=require("fs"),helper=require("./helper"),fixtures=helper.fixtures;exports.patterns={setUp:function(e){cleanUp();fs.symlinkSync(path.join(__dirname,"../../node_modules"),path.join(fixtures,"patterns","node_modules"));e()},tearDown:function(e){cleanUp();e()},negate:function(e){e.expect(2);var t=path.resolve(fixtures,"patterns"),n=helper.assertTask("watch",{cwd:t});n(function(){grunt.file.write(path.join(t,"lib","sub","dontedit.js"),"var dontedit = true;");setTimeout(function(){grunt.file.write(path.join(t,"lib","edit.js"),"var edit = true;")},3e3)},function(t){helper.verboseLog(t);e.ok(t.indexOf('File "lib'+path.sep+'edit.js" changed')!==-1,"Watch should have been triggered when edit.js was edited.");e.ok(t.indexOf('File "lib'+path.sep+'dontedit.js" changed')===-1,"Watch should NOT have been triggered when dontedit.js was edited.");e.done()})}};